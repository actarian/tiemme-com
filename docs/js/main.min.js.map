{"version":3,"sources":["src/js/main.js","../../src/js/filter/filter-item.js","../../src/js/location/location.service.js","../../src/js/filter/filter.service.js","../../src/js/agents/agents.component.js","../../src/js/environment/environment.js","../../src/js/modal/modal.service.js","../../src/js/http/http.service.js","../../src/js/local-storage/local-storage.service.js","../../src/js/user/user.service.js","../../src/js/app.component.js","../../src/js/intersection/intersection.service.js","../../src/js/appear/appear.directive.js","../../src/js/dropdown/dropdown.directive.js","../../src/js/bim-library/bim-library.js","../../src/js/click-outside/click-outside.directive.js","../../src/js/club/club-forgot.component.js","../../src/js/modal/modal-outlet.component.js","../../src/js/club/club.component.js","../../src/js/club/club-modal.component.js","../../src/js/club/club-password-edit.component.js","../../src/js/club/club-password-recovery.component.js","../../src/js/club/club-profile.component.js","../../src/js/club/club-signin.component.js","../../src/js/club/club-signup.component.js","../../src/js/dropdown/dropdown-item.directive.js","../../src/js/forms/control.component.js","../../src/js/forms/control-checkbox.component.js","../../src/js/keyboard/keyboard.service.js","../../src/js/forms/control-custom-select.component.js","../../src/js/forms/control-email.component.js","../../src/js/forms/control-file.component.js","../../src/js/forms/control-password.component.js","../../src/js/forms/control-select.component.js","../../src/js/forms/control-text.component.js","../../src/js/forms/control-textarea.component.js","../../src/js/forms/errors.component.js","../../src/js/forms/test.component.js","../../src/js/css/css.service.js","../../src/js/header/header.component.js","../../src/js/html/html.pipe.js","../../src/js/image/image.service.js","../../src/js/lazy/lazy.cache.js","../../src/js/lazy/lazy.directive.js","../../src/js/main-menu/main-menu.component.js","../../src/js/media-library/media-library.js","../../src/js/modal/modal.component.js","../../src/js/natural-form/natural-form.service.js","../../src/js/natural-form/natural-form-contact.component.js","../../src/js/natural-form/natural-form-control.component.js","../../src/js/natural-form/natural-form-newsletter.component.js","../../src/js/natural-form/natural-form-request-info.component.js","../../src/js/natural-form/natural-form-search.component.js","../../src/js/natural-form/natural-form-signup.component.js","../../src/js/natural-form/natural-form.component.js","../../src/js/price-list/price-list.js","../../src/js/register-or-login/register-or-login.component.js","../../src/js/request-info-commercial/request-info-commercial.component.js","../../src/js/reserved-area/reserved-area.component.js","../../src/js/scroll-to/scroll-to.directive.js","../../src/js/download/download.service.js","../../src/js/secure/secure.directive.js","../../src/js/size/size.pipe.js","../../src/js/swiper/swiper.directive.js","../../src/js/swiper/swiper-listing.directive.js","../../src/js/swiper/swiper-slides.directive.js","../../src/js/gtm/gtm.service.js","../../src/js/video/video.component.js","../../src/js/work-with-us/work-with-us.component.js","../../src/js/youtube/youtube.component.js","../../src/js/zoomable/zoomable.directive.js","../../src/js/app.module.js","../../src/js/main.js"],"names":["global","factory","exports","module","require","define","amd","self","rxcomp","form","rxjs","operators","this","rxcompForm","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","_createClass","Constructor","protoProps","staticProps","prototype","_defineProperty","obj","value","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","push","apply","_objectSpread2","arguments","source","forEach","getOwnPropertyDescriptors","defineProperties","_inheritsLoose","subClass","superClass","create","constructor","__proto__","FilterMode","FilterItem","change$","BehaviorSubject","mode","placeholder","values","options","assign","unshift","label","undefined","_proto","item","indexOf","match","_this","getLabel","has","set","next","remove","index","splice","first","toggle","LocationService","get","URLSearchParams","window","location","search","keyOrValue","params","replace","history","pushState","title","document","url","href","split","toString","deserialize","encoded","decode","serialize","encode","decoded","json","atob","JSON","parse","stringify","btoa","FilterService","initialParams","callback","filters","getParamsCount","reduce","p","c","locationParams","any","x","items$","items","changes","map","merge","pipe","tap","filterItems","updateFilterStates","skipFilter","_this2","_this3","filteredItems","option","count","disabled","AgentsComponent","_Component","onInit","agents","countries","regions","categories","filterService","idCountry","idsRegions","takeUntil","unsubscribe$","subscribe","pushChanges","hasCategory","id","Component","meta","selector","STATIC","port","host","DEVELOPMENT","ENV","PRODUCTION","ModalEvent","data","ModalResolveEvent","_ModalEvent","ModalRejectEvent","_ModalEvent2","ModalService","open$","modal","getTemplate$","src","template","node","getNode","modal$","switchMap","events$","load$","from","fetch","then","response","text","div","createElement","innerHTML","firstElementChild","reject","resolve","Subject","HttpService","http$","method","format","response_","getUrl","headers","Accept","Content-Type","body","ok","Promise","catchError","error","throwError","getError","get$","query","delete$","post$","put$","patch$","statusCode","status","statusMessage","statusText","console","log","LocalStorageService","delete","name","isLocalStorageSupported","localStorage","removeItem","exist","e","cache","setItem","supported","UserService","setUser","user","user$","me$","mapStatic__","register$","payload","update","login$","_this4","logout$","_this5","retrieve$","_this6","action","AppComponent","getContext","classList","setTimeout","parseQueryString","onDropped","openLogin","openRegister","openLoginRegisterModal","view","event","IntersectionService","observer","observer_","readySubject_","observerSubject_","IntersectionObserver","entries","intersection$","observe","find","entry","isIntersecting","finalize","unobserve","of","AppearDirective","_Directive","add","onChanges","appeared","Directive","DROPDOWN_ID","DropdownDirective","trigger","getAttribute","querySelector","opened","onClick","bind","onDocumentClick","openDropdown","closeDropdown","addListeners","dropdown$","contains","addDocumentListeners","dropped","removeDocumentListeners","getValue","addEventListener","removeListeners","removeEventListener","onDestroy","nextId","dropdown","id_","inputs","outputs","srcMore","srcHint","BimLibraryComponent","menu","files","visibleItems","slice","breadcrumb","setMenuItem","child","parent","clear","selectedId","selectedLabel","features","openMore","preventDefault","openHint","fake__","products","product","productId","image","code","productCode","productName","abstract","description","category1Id","category2Id","slug","fileName","fileExtension","pop","fileSize","catalogues","catalogue","titleCase__","category2Description","sort","a","b","departments","department","category1Description","d","str","toLowerCase","word","charAt","toUpperCase","join","ClickOutsideDirective","initialFocus","_getContext","parentInstance","event$","fromEvent","shareReplay","expression","outputFunction","makeFunction","clickOutside$","ClubForgotComponent","FormGroup","email","FormControl","Validators","RequiredValidator","EmailValidator","checkRequest","antiforgery","checkField","controls","changes$","success","test","patch","reset","onSubmit","valid","submitted","sent","touched","onLogin","login","onRegister","register","ModalOutletComponent","modalNode","modal_","removeChild","appendChild","compile","ClubComponent","views","SIGN_IN","SIGN_UP","FORGOTTEN","hasAttribute","parseInt","onForgot","onSignIn","club","onSignUp","onForgottenSent","ClubModalComponent","_ClubComponent","call","close","ClubPasswordEditComponent","newPassword","newPasswordConfirm","MatchValidator","fieldName","FormValidator","field","ClubPasswordRecoveryComponent","tokenEncoded","ClubProfileComponent","roles","provinces","firstName","lastName","company","role","country","province","address","zipCode","city","telephone","fax","newsletter","countryId","countryId_","String","idstato","hidden","ClubSigninComponent","password","signIn","forgot","ClubSignupComponent","privacy","RequiredTrueValidator","dataLayer","form type","DropdownItemDirective","ControlComponent","flags","control","ControlCheckboxComponent","_ControlComponent","KeyboardService","keydown$","keyup$","typing$","to","typing","key$","clearTimeout","regexp","ControlCustomSelectComponent","labels","dropdownId","scrollToWord","children","scrollTo","offsetTop","setOption","isMultiple","hasOption","v","select","$event","multiple","ControlEmailComponent","ControlFileComponent","file","required","onReaderComplete","onInputDidChange","lastModified","lastModifiedDate","size","type","reader","FileReader","readAsDataURL","content","result","ControlPasswordComponent","ControlSelectComponent","ControlTextComponent","ControlTextareaComponent","ErrorsComponent","TestComponent","env","onTest","onReset","CssService","height$","style","documentElement","innerHeight","startWith","height","vh","setProperty","HeaderComponent","submenu","toggleMenu","HtmlPipe","_Pipe","transform","m","n","fromCharCode","unescapes","rx","RegExp","Pipe","PATH","UID","ImageService","worker","worker_","Worker","isBlob","isCors","postMessage","URL","createObjectURL","blob","revokeObjectURL","LazyCache","cache_","LazyDirective","input$","distinctUntilChanged","input","lazy$","lazy","setAttribute","MainMenuComponent","sticky","onToggleSticky","onSearch","MediaLibraryComponent","medias","languages","category","ModalComponent","NaturalFormService","getDefaultValue","naturalForm","firstId","phrase","form$","profileUrl","modalUrl","NaturalFormContactComponent","interests","interest","message","scope","hostname","onBack","back","NaturalFormControlComponent","scroll","change","cssText","rect","getBoundingClientRect","left","width","innerWidth","NaturalFormNewsletterComponent","NaturalFormRequestInfoComponent","NaturalFormSearchComponent","onNaturalForm","onClub","animateUnderlines_","animated","concat","querySelectorAll","gsap","transformOrigin","scaleX","animate","u","delay","ease","Power3","easeInOut","overwrite","onComplete","animateOff_","phrase_","_getContext2","contentNode","instances_","html","Array","childNodes","NaturalFormSignupComponent","signUp","NaturalFormComponent","NATURAL","TECHNICAL","COMMERCIAL","NEWSLETTER","CLUB","clubProfileUrl","clubModalUrl","onNext","PriceListComponent","pricelists","RegisterOrLoginComponent","RequestInfoCommercialComponent","ReservedAreaComponent","doLogout","onProfileUpdate","onPasswordUpdate","ScrollToDirective","scrollTo$","currentTop","top","o","pow","scroll-behavior","Math","abs","Quad","easeOut","onUpdate","pageYOffset","scrollTop","DownloadService","download","click","a_","SecureDirective","tryDownloadHref","FileSizePipe","si","unit","units","toFixed","SwiperDirective","slidesPerView","spaceBetween","centeredSlides","speed","autoplay","keyboardControl","mousewheelControl","pagination","el","clickable","keyboard","enabled","onlyInViewport","init_","swiperInitOrUpdate_","removeListeners_","swiperDestroy_","onBeforePrint","slideToIndex","swiper","slideTo","opacity","on","slideChange","activeIndex","addListeners_","init","swiperDirectiveInit","Power2","element","Swiper","_opening","destroy","matchMedia","matches","SwiperListingDirective","_SwiperDirective","SwiperSlidesDirective","loop","loopAdditionalSlides","onSlideClick","navigation","nextEl","prevEl","GtmService","push_","VideoComponent","video","progress","pause","onPlay","onPause","onEnded","onTimeUpdate","togglePlay","paused","play","muted","playing","video_name","strokeDashoffset","currentTime","duration","playing_","WorkWithUsComponent","experience","introduction","curricula","YoutubeComponent","MOBILE","onPlayerReady","onPlayerStateChange","onPlayerError","id$","youtubeId","initPlayer","player$","player","interval$","once$","youtube","destroyPlayer","Player","offsetWidth","offsetHeight","videoId","playerVars","disablekb","enablejsapi","fs","modestbranding","playsinline","rel","showinfo","iv_load_policy","listType","events","onReady","onStateChange","mute","playVideo","interval","getCurrentTime","getDuration","stopVideo","youtube$","onYouTubeIframeAPIReady","onYouTubeIframeAPIReady_","script","scripts","last","parentNode","insertBefore","YT","mobilecheck","check","navigator","userAgent","vendor","opera","substr","mobileAndTabletcheck","ZoomableDirective","zoom","zoomIn","position","zoomOut","clearProps","zoom_","AppModule","_Module","Module","imports","CoreModule","FormModule","declarations","bootstrap","Browser"],"mappings":"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","file":"docs\\js\\main.min.js","sourcesContent":[null,"import { BehaviorSubject } from 'rxjs';\r\n\r\nexport const FilterMode = {\r\n\tSELECT: 'select',\r\n\tAND: 'and',\r\n\tOR: 'or',\r\n};\r\n\r\nexport default class FilterItem {\r\n\r\n\tconstructor(filter) {\r\n\t\tthis.change$ = new BehaviorSubject();\r\n\t\tthis.mode = FilterMode.SELECT;\r\n\t\tthis.filter = 'Filter';\r\n\t\tthis.placeholder = 'Select';\r\n\t\tthis.values = [];\r\n\t\tthis.options = [];\r\n\t\tif (filter) {\r\n\t\t\tObject.assign(this, filter);\r\n\t\t}\r\n\t\tif (filter.mode === FilterMode.SELECT) {\r\n\t\t\tfilter.options.unshift({\r\n\t\t\t\tlabel: filter.placeholder,\r\n\t\t\t\tvalue: undefined,\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tfilter(item, value) {\r\n\t\treturn item.options.indexOf(value) !== -1;\r\n\t}\r\n\r\n\tmatch(item) {\r\n\t\tlet match;\r\n\t\tif (this.mode === FilterMode.OR) {\r\n\t\t\tmatch = this.values.length ? false : true;\r\n\t\t\tthis.values.forEach(value => {\r\n\t\t\t\tmatch = match || this.filter(item, value);\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tmatch = true;\r\n\t\t\tthis.values.forEach(value => {\r\n\t\t\t\tmatch = match && this.filter(item, value);\r\n\t\t\t});\r\n\t\t}\r\n\t\treturn match;\r\n\t}\r\n\r\n\tgetLabel() {\r\n\t\tif (this.mode === FilterMode.SELECT) {\r\n\t\t\treturn this.placeholder || this.label;\r\n\t\t} else {\r\n\t\t\treturn this.label;\r\n\t\t}\r\n\t}\r\n\r\n\thas(item) {\r\n\t\treturn this.values.indexOf(item.value) !== -1;\r\n\t}\r\n\r\n\tset(item) {\r\n\t\tif (this.mode === FilterMode.SELECT) {\r\n\t\t\tthis.values = [];\r\n\t\t}\r\n\t\tconst index = this.values.indexOf(item.value);\r\n\t\tif (index === -1) {\r\n\t\t\tif (item.value !== undefined) {\r\n\t\t\t\tthis.values.push(item.value);\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (this.mode === FilterMode.SELECT) {\r\n\t\t\tthis.placeholder = item.label;\r\n\t\t}\r\n\t\t// console.log('FilterItem.set', item);\r\n\t\tthis.change$.next();\r\n\t}\r\n\r\n\tremove(item) {\r\n\t\tconst index = this.values.indexOf(item.value);\r\n\t\tif (index !== -1) {\r\n\t\t\tthis.values.splice(index, 1);\r\n\t\t}\r\n\t\tif (this.mode === FilterMode.SELECT) {\r\n\t\t\tconst first = this.options[0];\r\n\t\t\tthis.placeholder = first.label;\r\n\t\t}\r\n\t\t// console.log('FilterItem.remove', item);\r\n\t\tthis.change$.next();\r\n\t}\r\n\r\n\ttoggle(item) {\r\n\t\tif (this.has(item)) {\r\n\t\t\tthis.remove(item);\r\n\t\t} else {\r\n\t\t\tthis.set(item);\r\n\t\t}\r\n\t}\r\n\r\n}\r\n","export default class LocationService {\r\n\r\n\tstatic get(key) {\r\n\t\tconst params = new URLSearchParams(window.location.search);\r\n\t\t// console.log('LocationService.get', params);\r\n\t\treturn params.get(key);\r\n\t}\r\n\r\n\tstatic set(keyOrValue, value) {\r\n\t\tconst params = new URLSearchParams(window.location.search);\r\n\t\tif (typeof keyOrValue === 'string') {\r\n\t\t\tparams.set(keyOrValue, value);\r\n\t\t} else {\r\n\t\t\tparams.set(keyOrValue, '');\r\n\t\t}\r\n\t\tthis.replace(params);\r\n\t\t// console.log('LocationService.set', params, keyOrValue, value);\r\n\t}\r\n\r\n\tstatic replace(params) {\r\n\t\tif (window.history && window.history.pushState) {\r\n\t\t\tconst title = document.title;\r\n\t\t\tconst url = `${window.location.href.split('?')[0]}?${params.toString()}`;\r\n\t\t\twindow.history.pushState(params.toString(), title, url);\r\n\t\t}\r\n\t}\r\n\r\n\tstatic deserialize(key) {\r\n\t\tconst encoded = this.get('params');\r\n\t\treturn this.decode(key, encoded);\r\n\t}\r\n\r\n\tstatic serialize(keyOrValue, value) {\r\n\t\tconst params = this.deserialize();\r\n\t\tconst encoded = this.encode(keyOrValue, value, params);\r\n\t\tthis.set('params', encoded);\r\n\t}\r\n\r\n\tstatic decode(key, encoded) {\r\n\t\tlet decoded = null;\r\n\t\tif (encoded) {\r\n\t\t\tconst json = window.atob(encoded);\r\n\t\t\tdecoded = JSON.parse(json);\r\n\t\t}\r\n\t\tif (key && decoded) {\r\n\t\t\tdecoded = decoded[key];\r\n\t\t}\r\n\t\treturn decoded || null;\r\n\t}\r\n\r\n\tstatic encode(keyOrValue, value, params) {\r\n\t\tparams = params || {};\r\n\t\tlet encoded = null;\r\n\t\tif (typeof keyOrValue === 'string') {\r\n\t\t\tparams[keyOrValue] = value;\r\n\t\t} else {\r\n\t\t\tparams = keyOrValue;\r\n\t\t}\r\n\t\tconst json = JSON.stringify(params);\r\n\t\tencoded = window.btoa(json);\r\n\t\treturn encoded;\r\n\t}\r\n\r\n}\r\n","import { merge } from 'rxjs';\r\nimport { map, tap } from 'rxjs/operators';\r\nimport LocationService from '../location/location.service';\r\nimport FilterItem from './filter-item';\r\n\r\nexport default class FilterService {\r\n\r\n\tconstructor(options, initialParams, callback) {\r\n\t\tconst filters = {};\r\n\t\tthis.filters = filters;\r\n\t\tif (options) {\r\n\t\t\tObject.keys(options).forEach(key => {\r\n\t\t\t\tconst filter = new FilterItem(options[key]);\r\n\t\t\t\tif (typeof callback === 'function') {\r\n\t\t\t\t\tcallback(key, filter);\r\n\t\t\t\t}\r\n\t\t\t\tfilters[key] = filter;\r\n\t\t\t});\r\n\t\t\tthis.deserialize(this.filters, initialParams);\r\n\t\t}\r\n\t}\r\n\r\n\tgetParamsCount(params) {\r\n\t\tif (params) {\r\n\t\t\tconst paramsCount = Object.keys(params).reduce((p, c, i) => {\r\n\t\t\t\tconst values = params[c];\r\n\t\t\t\treturn p + (values ? values.length : 0);\r\n\t\t\t}, 0);\r\n\t\t\treturn paramsCount;\r\n\t\t} else {\r\n\t\t\treturn 0;\r\n\t\t}\r\n\t}\r\n\r\n\tdeserialize(filters, initialParams) {\r\n\t\tlet params;\r\n\t\tif (initialParams && this.getParamsCount(initialParams)) {\r\n\t\t\tparams = initialParams;\r\n\t\t}\r\n\t\tconst locationParams = LocationService.deserialize('filters');\r\n\t\tif (locationParams && this.getParamsCount(locationParams)) {\r\n\t\t\tparams = locationParams;\r\n\t\t}\r\n\t\tif (params) {\r\n\t\t\tObject.keys(filters).forEach(key => {\r\n\t\t\t\tfilters[key].values = params[key] || [];\r\n\t\t\t});\r\n\t\t}\r\n\t\treturn filters;\r\n\t}\r\n\r\n\tserialize(filters) {\r\n\t\tlet params = {};\r\n\t\tlet any = false;\r\n\t\tObject.keys(filters).forEach(x => {\r\n\t\t\tconst filter = filters[x];\r\n\t\t\tif (filter.value !== null) {\r\n\t\t\t\tparams[x] = filter.values;\r\n\t\t\t\tany = true;\r\n\t\t\t}\r\n\t\t});\r\n\t\tif (!any) {\r\n\t\t\tparams = null;\r\n\t\t}\r\n\t\t// console.log('ReferenceCtrl.serialize', params);\r\n\t\tLocationService.serialize('filters', params);\r\n\t\treturn params;\r\n\t}\r\n\r\n\titems$(items) {\r\n\t\tconst filters = this.filters;\r\n\t\tconst changes = Object.keys(filters).map(key => filters[key].change$);\r\n\t\treturn merge(...changes).pipe(\r\n\t\t\t// tap(() => console.log(filters)),\r\n\t\t\ttap(() => this.serialize(filters)),\r\n\t\t\tmap(() => this.filterItems(items)),\r\n\t\t\ttap(() => this.updateFilterStates(filters, items))\r\n\t\t);\r\n\t}\r\n\r\n\tfilterItems(items, skipFilter) {\r\n\t\tconst filters = Object.keys(this.filters).map((x) => this.filters[x]).filter(x => x.value !== null);\r\n\t\titems = items.filter(item => {\r\n\t\t\tlet has = true;\r\n\t\t\tfilters.forEach(filter => {\r\n\t\t\t\tif (filter !== skipFilter) {\r\n\t\t\t\t\thas = has && filter.match(item);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\treturn has;\r\n\t\t});\r\n\t\treturn items;\r\n\t}\r\n\r\n\tupdateFilterStates(filters, items) {\r\n\t\tObject.keys(filters).forEach(x => {\r\n\t\t\tconst filter = filters[x];\r\n\t\t\tconst filteredItems = this.filterItems(items, filter);\r\n\t\t\tfilter.options.forEach(option => {\r\n\t\t\t\tlet count = 0;\r\n\t\t\t\tif (option.value) {\r\n\t\t\t\t\tlet i = 0;\r\n\t\t\t\t\twhile (i < filteredItems.length) {\r\n\t\t\t\t\t\tconst item = filteredItems[i];\r\n\t\t\t\t\t\tif (filter.filter(item, option.value)) {\r\n\t\t\t\t\t\t\tcount++;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\ti++;\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tcount = filteredItems.length;\r\n\t\t\t\t}\r\n\t\t\t\toption.count = count;\r\n\t\t\t\toption.disabled = count === 0;\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n}\r\n","import { Component } from 'rxcomp';\r\nimport { takeUntil } from 'rxjs/operators';\r\nimport { FilterMode } from '../filter/filter-item';\r\nimport FilterService from '../filter/filter.service';\r\n\r\nexport default class AgentsComponent extends Component {\r\n\r\n\tonInit() {\r\n\t\tconst items = window.agents || [];\r\n\t\tconst filters = window.filters || {};\r\n\t\tconst initialParams = window.params || {};\r\n\t\tfilters.countries.mode = FilterMode.SELECT;\r\n\t\tfilters.regions.mode = FilterMode.SELECT;\r\n\t\t// filters.provinces.mode = FilterMode.SELECT;\r\n\t\tfilters.categories.mode = FilterMode.SELECT;\r\n\t\tconst filterService = new FilterService(filters, initialParams, (key, filter) => {\r\n\t\t\tswitch (key) {\r\n\t\t\t\tcase 'countries':\r\n\t\t\t\t\tfilter.filter = (item, value) => {\r\n\t\t\t\t\t\treturn item.idCountry && item.idCountry.indexOf(value) !== -1;\r\n\t\t\t\t\t};\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'regions':\r\n\t\t\t\t\tfilter.filter = (item, value) => {\r\n\t\t\t\t\t\treturn item.idsRegions && item.idsRegions.indexOf(value) !== -1;\r\n\t\t\t\t\t};\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t\t/*\r\n\t\t\t\t\tcase 'provinces':\r\n\t\t\t\t\t\tfilter.filter = (item, value) => {\r\n\t\t\t\t\t\t\treturn item.provinces && item.provinces.indexOf(value) !== -1;\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t\t*/\r\n\t\t\t\tcase 'categories':\r\n\t\t\t\t\tfilter.filter = (item, value) => {\r\n\t\t\t\t\t\treturn item.categories && item.categories.indexOf(value) !== -1;\r\n\t\t\t\t\t};\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tfilter.filter = (item, value) => {\r\n\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t};\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tfilterService.items$(items).pipe(\r\n\t\t\ttakeUntil(this.unsubscribe$),\r\n\t\t).subscribe(items => {\r\n\t\t\tthis.items = items;\r\n\t\t\tthis.pushChanges();\r\n\t\t\t/*\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tthis.items = items;\r\n\t\t\t\tthis.pushChanges();\r\n\t\t\t}, 50);\r\n\t\t\t*/\r\n\t\t\t// console.log('AgentsComponent.items', items.length);\r\n\t\t});\r\n\r\n\t\tthis.filterService = filterService;\r\n\t\tthis.filters = filterService.filters;\r\n\r\n\t}\r\n\r\n\thasCategory(item, id) {\r\n\t\treturn item.categories && item.categories.indexOf(id) !== -1;\r\n\t}\r\n\r\n\t/*\r\n\tcollect() {\r\n\t\tlet provinces = [];\r\n\t\titems.forEach(x => {\r\n\t\t\tif (x.provinces) {\r\n\t\t\t\tx.provinces.forEach(province => {\r\n\t\t\t\t\tif (provinces.indexOf(province) === -1) {\r\n\t\t\t\t\t\tprovinces.push(province);\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t});\r\n\t\tprovinces = provinces.sort().map(x => {\r\n\t\t\treturn {\r\n\t\t\t\tvalue: x,\r\n\t\t\t\tlabel: x,\r\n\t\t\t}\r\n\t\t});\r\n\t\t// console.log(JSON.stringify(provinces));\r\n\t}\r\n\t*/\r\n\r\n}\r\n\r\nAgentsComponent.meta = {\r\n\tselector: '[agents]',\r\n};\r\n","export const STATIC = window.location.port === '41999' || window.location.host === 'actarian.github.io';\r\nexport const DEVELOPMENT = ['localhost', '127.0.0.1', '0.0.0.0'].indexOf(window.location.host.split(':')[0]) !== -1;\r\nexport const PRODUCTION = !DEVELOPMENT;\r\nexport const ENV = {\r\n\tSTATIC,\r\n\tDEVELOPMENT,\r\n\tPRODUCTION\r\n};\r\n","import { from, Subject } from 'rxjs';\r\nimport { map, switchMap, tap } from 'rxjs/operators';\r\n\r\nexport class ModalEvent {\r\n\r\n\tconstructor(data) {\r\n\t\tthis.data = data;\r\n\t}\r\n\r\n}\r\n\r\nexport class ModalResolveEvent extends ModalEvent {}\r\nexport class ModalRejectEvent extends ModalEvent {}\r\n\r\nexport default class ModalService {\r\n\r\n\tstatic open$(modal) {\r\n\t\treturn this.getTemplate$(modal.src).pipe(\r\n\t\t\tmap(template => {\r\n\t\t\t\treturn { node: this.getNode(template), data: modal.data, modal: modal };\r\n\t\t\t}),\r\n\t\t\ttap(node => this.modal$.next(node)),\r\n\t\t\tswitchMap(node => this.events$),\r\n\t\t)\r\n\t}\r\n\r\n\tstatic load$(modal) {\r\n\r\n\t}\r\n\r\n\tstatic getTemplate$(url) {\r\n\t\treturn from(fetch(url).then(response => {\r\n\t\t\treturn response.text();\r\n\t\t}));\r\n\t}\r\n\r\n\tstatic getNode(template) {\r\n\t\tconst div = document.createElement(\"div\");\r\n\t\tdiv.innerHTML = template;\r\n\t\tconst node = div.firstElementChild;\r\n\t\treturn node;\r\n\t}\r\n\r\n\tstatic reject(data) {\r\n\t\tthis.modal$.next(null);\r\n\t\tthis.events$.next(new ModalRejectEvent(data));\r\n\t}\r\n\r\n\tstatic resolve(data) {\r\n\t\tthis.modal$.next(null);\r\n\t\tthis.events$.next(new ModalResolveEvent(data));\r\n\t}\r\n\r\n}\r\n\r\nModalService.modal$ = new Subject();\r\nModalService.events$ = new Subject();\r\n","import { from, throwError } from 'rxjs';\r\nimport { catchError } from 'rxjs/operators';\r\nimport { STATIC } from '../environment/environment';\r\n\r\nexport default class HttpService {\r\n\r\n\tstatic http$(method, url, data, format = 'json') {\r\n\t\tconst methods = ['POST', 'PUT', 'PATCH'];\r\n\t\tlet response_ = null;\r\n\t\treturn from(fetch(this.getUrl(url, format), {\r\n\t\t\tmethod: method,\r\n\t\t\theaders: {\r\n\t\t\t\t'Accept': 'application/json',\r\n\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t},\r\n\t\t\tbody: methods.indexOf(method) !== -1 ? JSON.stringify(data) : undefined\r\n\t\t}).then((response) => {\r\n\t\t\tresponse_ = response;\r\n\t\t\t// console.log(response);\r\n\t\t\tif (response.ok) {\r\n\t\t\t\treturn response[format]();\r\n\t\t\t} else {\r\n\t\t\t\treturn response.json().then(json => {\r\n\t\t\t\t\treturn Promise.reject(json);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t})).pipe(\r\n\t\t\tcatchError(error => {\r\n\t\t\t\treturn throwError(this.getError(error, response_));\r\n\t\t\t})\r\n\t\t);\r\n\t}\r\n\r\n\tstatic get$(url, data, format) {\r\n\t\tconst query = this.query(data);\r\n\t\treturn this.http$('GET', `${url}${query}`, undefined, format);\r\n\t}\r\n\r\n\tstatic delete$(url) {\r\n\t\treturn this.http$('DELETE', url);\r\n\t}\r\n\r\n\tstatic post$(url, data) {\r\n\t\treturn this.http$('POST', url, data);\r\n\t}\r\n\r\n\tstatic put$(url, data) {\r\n\t\treturn this.http$('PUT', url, data);\r\n\t}\r\n\r\n\tstatic patch$(url, data) {\r\n\t\treturn this.http$('PATCH', url, data);\r\n\t}\r\n\r\n\tstatic query(data) {\r\n\t\treturn ''; // todo\r\n\t}\r\n\r\n\tstatic getUrl(url, format = 'json') {\r\n\t\t// console.log(url);\r\n\t\treturn STATIC && format === 'json' && url.indexOf('/') === 0 ? `.${url}.json` : url;\r\n\t}\r\n\r\n\tstatic getError(object, response) {\r\n\t\tlet error = typeof object === 'object' ? object : {};\r\n\t\tif (!error.statusCode) {\r\n\t\t\terror.statusCode = response ? response.status : 0;\r\n\t\t}\r\n\t\tif (!error.statusMessage) {\r\n\t\t\terror.statusMessage = response ? response.statusText : object;\r\n\t\t}\r\n\t\tconsole.log('HttpService.getError', error, object);\r\n\t\treturn error;\r\n\t}\r\n\r\n}\r\n","export default class LocalStorageService {\r\n\r\n\tstatic delete(name) {\r\n\t\tif (this.isLocalStorageSupported()) {\r\n\t\t\twindow.localStorage.removeItem(name);\r\n\t\t}\r\n\t}\r\n\r\n\tstatic exist(name) {\r\n\t\tif (this.isLocalStorageSupported()) {\r\n\t\t\treturn window.localStorage[name] !== undefined;\r\n\t\t}\r\n\t}\r\n\r\n\tstatic get(name) {\r\n\t\tlet value = null;\r\n\t\tif (this.isLocalStorageSupported() && window.localStorage[name] !== undefined) {\r\n\t\t\ttry {\r\n\t\t\t\tvalue = JSON.parse(window.localStorage[name]);\r\n\t\t\t} catch (e) {\r\n\t\t\t\tconsole.log('LocalStorageService.get.error parsing', name, e);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn value;\r\n\t}\r\n\r\n\tstatic set(name, value) {\r\n\t\tif (this.isLocalStorageSupported()) {\r\n\t\t\ttry {\r\n\t\t\t\tconst cache = [];\r\n\t\t\t\tconst json = JSON.stringify(value, function(key, value) {\r\n\t\t\t\t\tif (typeof value === 'object' && value !== null) {\r\n\t\t\t\t\t\tif (cache.indexOf(value) !== -1) {\r\n\t\t\t\t\t\t\t// Circular reference found, discard key\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tcache.push(value);\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn value;\r\n\t\t\t\t});\r\n\t\t\t\twindow.localStorage.setItem(name, json);\r\n\t\t\t} catch (e) {\r\n\t\t\t\tconsole.log('LocalStorageService.set.error serializing', name, value, e);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tstatic isLocalStorageSupported() {\r\n\t\tif (this.supported) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\tlet supported = false;\r\n\t\ttry {\r\n\t\t\tsupported = 'localStorage' in window && window.localStorage !== null;\r\n\t\t\tif (supported) {\r\n\t\t\t\twindow.localStorage.setItem('test', '1');\r\n\t\t\t\twindow.localStorage.removeItem('test');\r\n\t\t\t} else {\r\n\t\t\t\tsupported = false;\r\n\t\t\t}\r\n\t\t} catch (e) {\r\n\t\t\tsupported = false;\r\n\t\t}\r\n\t\tthis.supported = supported;\r\n\t\treturn supported;\r\n\t}\r\n\r\n}\r\n","import { BehaviorSubject } from 'rxjs';\r\nimport { map, switchMap } from 'rxjs/operators';\r\nimport { STATIC } from '../environment/environment';\r\nimport HttpService from '../http/http.service';\r\nimport LocalStorageService from '../local-storage/local-storage.service';\r\n\r\nexport default class UserService {\r\n\r\n\tstatic setUser(user) {\r\n\t\tthis.user$.next(user);\r\n\t}\r\n\r\n\tstatic me$() {\r\n\t\treturn HttpService.get$('/api/users/me').pipe(\r\n\t\t\tmap((user) => this.mapStatic__(user, 'me')),\r\n\t\t\tswitchMap(user => {\r\n\t\t\t\tthis.setUser(user);\r\n\t\t\t\treturn this.user$;\r\n\t\t\t})\r\n\t\t);\r\n\t}\r\n\r\n\tstatic register$(payload) {\r\n\t\treturn HttpService.post$('/api/users/register', payload).pipe(\r\n\t\t\tmap((user) => this.mapStatic__(user, 'register')),\r\n\t\t);\r\n\t}\r\n\r\n\tstatic update(payload) {\r\n\t\treturn HttpService.post$('/api/users/updateprofile', payload).pipe(\r\n\t\t\tmap((user) => this.mapStatic__(user, 'register')),\r\n\t\t);\r\n\t}\r\n\r\n\tstatic login$(payload) {\r\n\t\treturn HttpService.post$('/api/users/login', payload).pipe(\r\n\t\t\tmap((user) => this.mapStatic__(user, 'login')),\r\n\t\t);\r\n\t}\r\n\r\n\tstatic logout$() {\r\n\t\treturn HttpService.post$('/api/users/logout').pipe(\r\n\t\t\tmap((user) => this.mapStatic__(user, 'logout')),\r\n\t\t);\r\n\t}\r\n\tstatic retrieve$(payload) {\r\n\t\treturn HttpService.post$('/api/users/retrievepassword', payload).pipe(\r\n\t\t\tmap((user) => this.mapStatic__(user, 'retrieve')),\r\n\t\t);\r\n\t}\r\n\r\n\tstatic mapStatic__(user, action = 'me') {\r\n\t\tif (!STATIC) {\r\n\t\t\treturn user;\r\n\t\t};\r\n\t\tswitch (action) {\r\n\t\t\tcase 'me':\r\n\t\t\t\tif (!LocalStorageService.exist('user')) {\r\n\t\t\t\t\tuser = null;\r\n\t\t\t\t};\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'register':\r\n\t\t\t\tLocalStorageService.set('user', user);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'login':\r\n\t\t\t\tLocalStorageService.set('user', user);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'logout':\r\n\t\t\t\tLocalStorageService.delete('user');\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t\treturn user;\r\n\t}\r\n\r\n}\r\n\r\nUserService.user$ = new BehaviorSubject(null);\r\n","import { Component, getContext } from 'rxcomp';\r\nimport { takeUntil } from 'rxjs/operators';\r\nimport { STATIC } from './environment/environment';\r\nimport LocationService from './location/location.service';\r\nimport ModalService, { ModalResolveEvent } from './modal/modal.service';\r\nimport UserService from './user/user.service';\r\n\r\nconst src = STATIC ? '/tiemme-com/club-modal.html' : '/Viewdoc.cshtml?co_id=23649';\r\n\r\nexport default class AppComponent extends Component {\r\n\r\n\tonInit() {\r\n\t\tconst { node } = getContext(this);\r\n\t\tnode.classList.remove('hidden');\r\n\t\t// console.log('context', context);\r\n\t\tUserService.user$.pipe(\r\n\t\t\ttakeUntil(this.unsubscribe$)\r\n\t\t).subscribe(user => {\r\n\t\t\tconsole.log('AppComponent.user$', user);\r\n\t\t\tthis.user = user;\r\n\t\t\tthis.pushChanges();\r\n\t\t});\r\n\t\tsetTimeout(() => {\r\n\t\t\tthis.parseQueryString();\r\n\t\t}, 500);\r\n\t}\r\n\r\n\tonDropped(id) {\r\n\t\tconsole.log('AppComponent.onDropped', id);\r\n\t}\r\n\r\n\tparseQueryString() {\r\n\t\tconst action = LocationService.get('action');\r\n\t\tswitch (action) {\r\n\t\t\tcase 'login':\r\n\t\t\t\tthis.openLogin();\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'register':\r\n\t\t\t\tthis.openRegister();\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n\r\n\topenLogin() {\r\n\t\tthis.openLoginRegisterModal(1);\r\n\t}\r\n\r\n\topenRegister() {\r\n\t\tthis.openLoginRegisterModal(2);\r\n\t}\r\n\r\n\topenLoginRegisterModal(view = 1) {\r\n\t\tModalService.open$({ src: src, data: { view } }).pipe(\r\n\t\t\ttakeUntil(this.unsubscribe$)\r\n\t\t).subscribe(event => {\r\n\t\t\t// console.log('RegisterOrLoginComponent.onRegister', event);\r\n\t\t\tif (event instanceof ModalResolveEvent) {\r\n\t\t\t\tUserService.setUser(event.data);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\t// onView() { const context = getContext(this); }\r\n\r\n\t// onChanges() {}\r\n\r\n\t// onDestroy() {}\r\n}\r\n\r\nAppComponent.meta = {\r\n\tselector: '[app-component]',\r\n};\r\n","import { BehaviorSubject, of , Subject } from 'rxjs';\r\nimport { filter, finalize, first, map } from 'rxjs/operators';\r\n\r\nexport default class IntersectionService {\r\n\r\n\tstatic observer() {\r\n\t\tif (!this.observer_) {\r\n\t\t\tthis.readySubject_ = new BehaviorSubject(false);\r\n\t\t\tthis.observerSubject_ = new Subject();\r\n\t\t\tthis.observer_ = new IntersectionObserver(entries => {\r\n\t\t\t\tthis.observerSubject_.next(entries);\r\n\t\t\t});\r\n\t\t}\r\n\t\treturn this.observer_;\r\n\t}\r\n\r\n\tstatic intersection$(node) {\r\n\t\tif ('IntersectionObserver' in window) {\r\n\t\t\tconst observer = this.observer();\r\n\t\t\tobserver.observe(node);\r\n\t\t\treturn this.observerSubject_.pipe(\r\n\t\t\t\t// tap(entries => console.log(entries.length)),\r\n\t\t\t\tmap(entries => entries.find(entry => entry.target === node)),\r\n\t\t\t\t// tap(entry => console.log('IntersectionService.intersection$', entry)),\r\n\t\t\t\tfilter(entry => entry !== undefined && entry.isIntersecting), // entry.intersectionRatio > 0\r\n\t\t\t\tfirst(),\r\n\t\t\t\tfinalize(() => observer.unobserve(node)),\r\n\t\t\t);\r\n\t\t} else {\r\n\t\t\treturn of({ target: node });\r\n\t\t}\r\n\r\n\t\t/*\r\n\t\tfunction observer() {\r\n\t\t\tif ('IntersectionObserver' in window) {\r\n\t\t\t\treturn new IntersectionObserver(entries => {\r\n\t\t\t\t\tentries.forEach(function(entry) {\r\n\t\t\t\t\t\tif (entry.isIntersecting) {\r\n\t\t\t\t\t\t\tentry.target.classList.add('appear');\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\treturn { observe: function(node) { node.classList.add('appear')}, unobserve: function() {} };\r\n\t\t\t}\r\n\t\t}\r\n\t\tobserver.observe(node);\r\n\t\tobserver.unobserve(node);\r\n\t\t*/\r\n\r\n\t}\r\n\r\n}\r\n","import { Directive, getContext } from 'rxcomp';\r\nimport { first, takeUntil } from 'rxjs/operators';\r\nimport IntersectionService from '../intersection/intersection.service';\r\n\r\nexport default class AppearDirective extends Directive {\r\n\r\n\tonInit() {\r\n\t\tconst { node } = getContext(this);\r\n\t\tnode.classList.add('appear');\r\n\t}\r\n\r\n\tonChanges() {\r\n\t\tif (!this.appeared) {\r\n\t\t\tthis.appeared = true;\r\n\t\t\tconst { node } = getContext(this);\r\n\t\t\tIntersectionService.intersection$(node).pipe(\r\n\t\t\t\tfirst(),\r\n\t\t\t\ttakeUntil(this.unsubscribe$),\r\n\t\t\t).subscribe(src => {\r\n\t\t\t\tnode.classList.add('appeared');\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n}\r\n\r\nAppearDirective.meta = {\r\n\tselector: '[appear]',\r\n};\r\n","import { Directive, getContext } from \"rxcomp\";\r\nimport { BehaviorSubject } from \"rxjs\";\r\nimport { takeUntil } from \"rxjs/operators\";\r\n\r\nlet DROPDOWN_ID = 1000000;\r\n\r\nexport default class DropdownDirective extends Directive {\r\n\r\n\tget id() {\r\n\t\tconsole.log(this.dropdown);\r\n\t\treturn this.dropdown || this.id_ || (this.id_ = DropdownDirective.nextId());\r\n\t}\r\n\r\n\tonInit() {\r\n\t\tconst { node } = getContext(this);\r\n\t\tconst trigger = node.getAttribute('dropdown-trigger');\r\n\t\tthis.trigger = trigger ? node.querySelector(trigger) : node;\r\n\t\tthis.opened = null;\r\n\t\tthis.onClick = this.onClick.bind(this);\r\n\t\tthis.onDocumentClick = this.onDocumentClick.bind(this);\r\n\t\tthis.openDropdown = this.openDropdown.bind(this);\r\n\t\tthis.closeDropdown = this.closeDropdown.bind(this);\r\n\t\tthis.addListeners();\r\n\t\tDropdownDirective.dropdown$.pipe(\r\n\t\t\ttakeUntil(this.unsubscribe$)\r\n\t\t).subscribe(id => {\r\n\t\t\t// console.log('DropdownDirective', id, this['dropdown-item']);\r\n\t\t\tif (this.id === id) {\r\n\t\t\t\tnode.classList.add('dropped');\r\n\t\t\t} else {\r\n\t\t\t\tnode.classList.remove('dropped');\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tonClick(event) {\r\n\t\tconst { node } = getContext(this);\r\n\t\tif (this.opened === null) {\r\n\t\t\tthis.openDropdown();\r\n\t\t} else {\r\n\t\t\tconst dropdownItemNode = node.querySelector('[dropdown-item]');\r\n\t\t\t// console.log('dropdownItemNode', dropdownItemNode);\r\n\t\t\tif (!dropdownItemNode) { // if (this.trigger !== node) {\r\n\t\t\t\tthis.closeDropdown();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tonDocumentClick(event) {\r\n\t\tconst { node } = getContext(this);\r\n\t\tconst clickedInside = node === event.target || node.contains(event.target);\r\n\t\tif (!clickedInside) {\r\n\t\t\tthis.closeDropdown();\r\n\t\t}\r\n\t}\r\n\r\n\topenDropdown() {\r\n\t\tif (this.opened === null) {\r\n\t\t\tthis.opened = true;\r\n\t\t\tthis.addDocumentListeners();\r\n\t\t\tDropdownDirective.dropdown$.next(this.id);\r\n\t\t\tthis.dropped.next(this.id);\r\n\t\t}\r\n\t}\r\n\r\n\tcloseDropdown() {\r\n\t\tif (this.opened !== null) {\r\n\t\t\tthis.removeDocumentListeners();\r\n\t\t\tthis.opened = null;\r\n\t\t\tif (DropdownDirective.dropdown$.getValue() === this.id) {\r\n\t\t\t\tDropdownDirective.dropdown$.next(null);\r\n\t\t\t\tthis.dropped.next(null);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\taddListeners() {\r\n\t\tthis.trigger.addEventListener('click', this.onClick);\r\n\t}\r\n\r\n\taddDocumentListeners() {\r\n\t\tdocument.addEventListener('click', this.onDocumentClick);\r\n\t}\r\n\r\n\tremoveListeners() {\r\n\t\tthis.trigger.removeEventListener('click', this.onClick);\r\n\t}\r\n\r\n\tremoveDocumentListeners() {\r\n\t\tdocument.removeEventListener('click', this.onDocumentClick);\r\n\t}\r\n\r\n\tonDestroy() {\r\n\t\tthis.removeListeners();\r\n\t\tthis.removeDocumentListeners();\r\n\t}\r\n\r\n\tstatic nextId() {\r\n\t\treturn DROPDOWN_ID++;\r\n\t}\r\n\r\n}\r\n\r\nDropdownDirective.meta = {\r\n\tselector: '[dropdown]',\r\n\tinputs: ['dropdown', 'dropdown-trigger'],\r\n\toutputs: ['dropped']\r\n};\r\n\r\nDropdownDirective.dropdown$ = new BehaviorSubject(null);\r\n","import { Component } from 'rxcomp';\r\nimport { first, takeUntil } from 'rxjs/operators';\r\nimport DropdownDirective from '../dropdown/dropdown.directive';\r\nimport { STATIC } from '../environment/environment';\r\nimport HttpService from '../http/http.service';\r\nimport ModalService from '../modal/modal.service';\r\n\r\nconst srcMore = STATIC ? '/tiemme-com/services-bim-modal-more.html' : '/Viewdoc.cshtml?co_id=25206';\r\nconst srcHint = STATIC ? '/tiemme-com/services-bim-modal-hint.html' : '/Viewdoc.cshtml?co_id=25207';\r\n\r\nexport default class BimLibraryComponent extends Component {\r\n\r\n\tonInit() {\r\n\t\tconst menu = window.menu || {};\r\n\t\tconst items = window.files || [];\r\n\t\tthis.menu = menu;\r\n\t\tthis.items = items;\r\n\t\tthis.visibleItems = items.slice();\r\n\t\tthis.breadcrumb = [menu];\r\n\t\t// this.fake__();\r\n\t}\r\n\r\n\tsetMenuItem(child, parent) {\r\n\t\tconst clear = (items) => {\r\n\t\t\tif (items) {\r\n\t\t\t\titems.forEach(x => {\r\n\t\t\t\t\tdelete x.selectedId;\r\n\t\t\t\t\tdelete x.selectedLabel;\r\n\t\t\t\t\tclear(x.items);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t};\r\n\t\tclear(parent.items);\r\n\t\tlet index = this.breadcrumb.reduce((p, c, i) => {\r\n\t\t\treturn c.id === parent.id ? i : p;\r\n\t\t}, -1);\r\n\t\tif (index !== -1) {\r\n\t\t\tparent.selectedId = child.id;\r\n\t\t\tparent.selectedLabel = child.label;\r\n\t\t\tconst breadcrumb = this.breadcrumb.slice(0, index + 1);\r\n\t\t\tif (child.items) {\r\n\t\t\t\tbreadcrumb.push(child);\r\n\t\t\t}\r\n\t\t\tthis.breadcrumb = [];\r\n\t\t\tDropdownDirective.dropdown$.next(null);\r\n\t\t\tthis.pushChanges();\r\n\t\t\tthis.breadcrumb = breadcrumb;\r\n\t\t\tthis.visibleItems = this.items.filter(x => {\r\n\t\t\t\treturn breadcrumb.reduce((p, c) => {\r\n\t\t\t\t\tif (c.selectedId) {\r\n\t\t\t\t\t\treturn p && (x.features.indexOf(c.selectedId) !== -1 || x.id === c.selectedId);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\treturn p;\r\n\t\t\t\t\t}\r\n\t\t\t\t}, true);\r\n\t\t\t});\r\n\t\t\tthis.pushChanges();\r\n\t\t}\r\n\t}\r\n\r\n\topenMore(event) {\r\n\t\tevent.preventDefault();\r\n\t\tModalService.open$({ src: srcMore, data: null }).pipe(\r\n\t\t\ttakeUntil(this.unsubscribe$)\r\n\t\t).subscribe(event => {\r\n\t\t\t// console.log('BimLibraryComponent.onRegister', event);\r\n\t\t});\r\n\t}\r\n\r\n\topenHint(event) {\r\n\t\tevent.preventDefault();\r\n\t\tModalService.open$({ src: srcHint, data: null }).pipe(\r\n\t\t\ttakeUntil(this.unsubscribe$)\r\n\t\t).subscribe(event => {\r\n\t\t\t// console.log('BimLibraryComponent.onRegister', event);\r\n\t\t});\r\n\t}\r\n\r\n\tfake__() {\r\n\t\tHttpService.get$('/api/bim/excel').pipe(\r\n\t\t\tfirst()\r\n\t\t).subscribe(items => {\r\n\t\t\tconst products = [];\r\n\t\t\titems.forEach(item => {\r\n\t\t\t\tlet product = products.find(x => x.id === item.productId);\r\n\t\t\t\tif (!product) {\r\n\t\t\t\t\tproduct = {\r\n\t\t\t\t\t\tid: item.productId,\r\n\t\t\t\t\t\timage: item.image,\r\n\t\t\t\t\t\tcode: item.productCode,\r\n\t\t\t\t\t\ttitle: item.productName,\r\n\t\t\t\t\t\tabstract: item.description,\r\n\t\t\t\t\t\tfiles: [],\r\n\t\t\t\t\t\tfeatures: [item.category1Id, item.category2Id],\r\n\t\t\t\t\t\tslug: 'https://tiemmeraccorderie.wslabs.it/it/prodotti/componenti-idraulici/tubi/tubi-multistrato-al-cobrapex/standard/0600/'\r\n\t\t\t\t\t};\r\n\t\t\t\t\tproducts.push(product);\r\n\t\t\t\t}\r\n\t\t\t\tif (!product.files.find(x => x.fileName === item.fileName)) {\r\n\t\t\t\t\tproduct.files.push({\r\n\t\t\t\t\t\tfileName: item.fileName,\r\n\t\t\t\t\t\tfileExtension: `.${item.fileName.split('.').pop()}`,\r\n\t\t\t\t\t\tfileSize: 45000,\r\n\t\t\t\t\t\turl: 'https://tiemmeraccorderie.wslabs.it/media/files/' + item.fileName,\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tconsole.log(JSON.stringify(products));\r\n\t\t\tconst catalogues = [];\r\n\t\t\titems.forEach(item => {\r\n\t\t\t\tconst catalogue = catalogues.find(x => x.value === item.category2Id);\r\n\t\t\t\tif (!catalogue) {\r\n\t\t\t\t\tcatalogues.push({\r\n\t\t\t\t\t\tvalue: item.category2Id,\r\n\t\t\t\t\t\tlabel: this.titleCase__(item.category2Description),\r\n\t\t\t\t\t\tcount: 1,\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tcatalogue.count++;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tcatalogues.sort(function(a, b) {\r\n\t\t\t\treturn (a.count - b.count) * -1;\r\n\t\t\t});\r\n\t\t\tconsole.log(JSON.stringify(catalogues.map(x => {\r\n\t\t\t\tdelete x.count;\r\n\t\t\t\treturn x;\r\n\t\t\t})));\r\n\t\t\tconst departments = [];\r\n\t\t\titems.forEach(item => {\r\n\t\t\t\tconst department = departments.find(x => x.value === item.category1Id);\r\n\t\t\t\tif (!department) {\r\n\t\t\t\t\tdepartments.push({\r\n\t\t\t\t\t\tvalue: item.category1Id,\r\n\t\t\t\t\t\tlabel: this.titleCase__(item.category1Description),\r\n\t\t\t\t\t\tcount: 1,\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tdepartment.count++;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tdepartments.sort(function(a, b) {\r\n\t\t\t\treturn (a.count - b.count) * -1;\r\n\t\t\t});\r\n\t\t\tconsole.log(JSON.stringify(departments.map(x => {\r\n\t\t\t\tdelete x.count;\r\n\t\t\t\treturn x;\r\n\t\t\t})));\r\n\t\t\tconst menu = {\r\n\t\t\t\tid: 'menu',\r\n\t\t\t\ttitle: 'Area',\r\n\t\t\t\titems: departments.map(d => {\r\n\t\t\t\t\tconst item = {\r\n\t\t\t\t\t\tid: d.value,\r\n\t\t\t\t\t\tlabel: d.label,\r\n\t\t\t\t\t\ttitle: 'Catalogo',\r\n\t\t\t\t\t\titems: catalogues.filter(c => {\r\n\t\t\t\t\t\t\treturn products.find(p => p.features.indexOf(d.value) !== -1 && p.features.indexOf(c.value) !== -1);\r\n\t\t\t\t\t\t}).map(c => {\r\n\t\t\t\t\t\t\tconst item = {\r\n\t\t\t\t\t\t\t\tid: c.value,\r\n\t\t\t\t\t\t\t\tlabel: c.label,\r\n\t\t\t\t\t\t\t\ttitle: 'Prodotto',\r\n\t\t\t\t\t\t\t\titems: products.filter(p => {\r\n\t\t\t\t\t\t\t\t\treturn p.features.indexOf(c.value) !== -1;\r\n\t\t\t\t\t\t\t\t}).map(p => {\r\n\t\t\t\t\t\t\t\t\tconst item = {\r\n\t\t\t\t\t\t\t\t\t\tid: p.id,\r\n\t\t\t\t\t\t\t\t\t\tlabel: p.title,\r\n\t\t\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t\t\treturn item;\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\treturn item;\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t};\r\n\t\t\t\t\treturn item;\r\n\t\t\t\t})\r\n\t\t\t};\r\n\t\t\tconsole.log(JSON.stringify(menu));\r\n\t\t});\r\n\t}\r\n\r\n\ttitleCase__(str) {\r\n\t\treturn str.toLowerCase().split(' ').map(function(word) {\r\n\t\t\treturn (word.charAt(0).toUpperCase() + word.slice(1));\r\n\t\t}).join(' ');\r\n\t}\r\n\r\n}\r\n\r\nBimLibraryComponent.meta = {\r\n\tselector: '[bim-library]',\r\n};\r\n","import { Directive, getContext } from 'rxcomp';\r\nimport { fromEvent } from 'rxjs';\r\nimport { filter, shareReplay, takeUntil } from 'rxjs/operators';\r\n\r\nexport default class ClickOutsideDirective extends Directive {\r\n\r\n\tonInit() {\r\n\t\tthis.initialFocus = false;\r\n\t\tconst { module, node, parentInstance, selector } = getContext(this);\r\n\t\tconst event$ = this.event$ = fromEvent(document, 'click').pipe(\r\n\t\t\tfilter(event => {\r\n\t\t\t\tconst target = event.target;\r\n\t\t\t\t// console.log('ClickOutsideDirective.onClick', this.element.nativeElement, target, this.element.nativeElement.contains(target));\r\n\t\t\t\t// const documentContained: boolean = Boolean(document.compareDocumentPosition(target) & Node.DOCUMENT_POSITION_CONTAINED_BY);\r\n\t\t\t\t// console.log(target, documentContained);\r\n\t\t\t\tconst clickedInside = node.contains(target) || !document.contains(target);\r\n\t\t\t\tif (!clickedInside) {\r\n\t\t\t\t\tif (this.initialFocus) {\r\n\t\t\t\t\t\tthis.initialFocus = false;\r\n\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.initialFocus = true;\r\n\t\t\t\t}\r\n\t\t\t}),\r\n\t\t\tshareReplay(1)\r\n\t\t);\r\n\t\tconst expression = node.getAttribute(`(clickOutside)`);\r\n\t\tif (expression) {\r\n\t\t\tconst outputFunction = module.makeFunction(expression, ['$event']);\r\n\t\t\tevent$.pipe(\r\n\t\t\t\ttakeUntil(this.unsubscribe$),\r\n\t\t\t).subscribe(event => {\r\n\t\t\t\tmodule.resolve(outputFunction, parentInstance, event);\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tparentInstance.clickOutside$ = event$;\r\n\t\t}\r\n\t}\r\n\r\n}\r\n\r\nClickOutsideDirective.meta = {\r\n\tselector: `[(clickOutside)]`,\r\n};\r\n","import { Component } from 'rxcomp';\r\nimport { FormControl, FormGroup, Validators } from 'rxcomp-form';\r\nimport { takeUntil } from 'rxjs/operators';\r\nimport UserService from '../user/user.service';\r\n\r\nexport default class ClubForgotComponent extends Component {\r\n\r\n\tonInit() {\r\n\t\tconst form = new FormGroup({\r\n\t\t\temail: new FormControl(null, [Validators.RequiredValidator(), Validators.EmailValidator()]),\r\n\t\t\tcheckRequest: window.antiforgery,\r\n\t\t\tcheckField: ''\r\n\t\t});\r\n\r\n\t\tconst controls = form.controls;\r\n\t\tthis.controls = controls;\r\n\r\n\t\tform.changes$.pipe(\r\n\t\t\ttakeUntil(this.unsubscribe$)\r\n\t\t).subscribe((changes) => {\r\n\t\t\t// console.log('ClubForgotComponent.form.changes$', changes, form.valid);\r\n\t\t\tthis.pushChanges();\r\n\t\t});\r\n\r\n\t\tthis.form = form;\r\n\t\tthis.error = null;\r\n\t\tthis.success = false;\r\n\t}\r\n\r\n\ttest() {\r\n\t\tthis.form.patch({\r\n\t\t\temail: 'jhonappleseed@gmail.com',\r\n\t\t\tcheckRequest: window.antiforgery,\r\n\t\t\tcheckField: ''\r\n\t\t});\r\n\t}\r\n\r\n\treset() {\r\n\t\tthis.form.reset();\r\n\t}\r\n\r\n\tonSubmit() {\r\n\t\t// console.log('ClubForgotComponent.onSubmit', 'form.valid', valid);\r\n\t\tif (this.form.valid) {\r\n\t\t\t// console.log('ClubForgotComponent.onSubmit', this.form.value);\r\n\t\t\tthis.form.submitted = true;\r\n\t\t\tUserService.retrieve$(this.form.value)\r\n\t\t\t\t.subscribe(response => {\r\n\t\t\t\t\tconsole.log('ClubForgotComponent.onSubmit', response);\r\n\t\t\t\t\tthis.sent.next(true);\r\n\t\t\t\t\tthis.success = true;\r\n\t\t\t\t\t// this.form.reset();\r\n\t\t\t\t\tthis.pushChanges();\r\n\t\t\t\t}, error => {\r\n\t\t\t\t\tconsole.log('ClubForgotComponent.error', error);\r\n\t\t\t\t\tthis.error = error;\r\n\t\t\t\t\tthis.pushChanges();\r\n\t\t\t\t});\r\n\t\t} else {\r\n\t\t\tthis.form.touched = true;\r\n\t\t}\r\n\t}\r\n\r\n\tonLogin() {\r\n\t\tthis.login.next();\r\n\t}\r\n\r\n\tonRegister() {\r\n\t\tthis.register.next();\r\n\t}\r\n\r\n}\r\n\r\nClubForgotComponent.meta = {\r\n\tselector: '[club-forgot]',\r\n\toutputs: ['sent', 'login', 'register'],\r\n};\r\n","import { Component, getContext } from 'rxcomp';\r\nimport { takeUntil } from 'rxjs/operators';\r\nimport ModalService from './modal.service';\r\n\r\nexport default class ModalOutletComponent extends Component {\r\n\r\n\tget modal() {\r\n\t\treturn this.modal_;\r\n\t}\r\n\r\n\tset modal(modal) {\r\n\t\t// console.log('ModalOutletComponent set modal', modal, this);\r\n\t\tconst { module } = getContext(this);\r\n\t\tif (this.modal_ && this.modal_.node) {\r\n\t\t\tmodule.remove(this.modal_.node, this);\r\n\t\t\tthis.modalNode.removeChild(this.modal_.node);\r\n\t\t}\r\n\t\tif (modal && modal.node) {\r\n\t\t\tthis.modal_ = modal;\r\n\t\t\tthis.modalNode.appendChild(modal.node);\r\n\t\t\tconst instances = module.compile(modal.node);\r\n\t\t}\r\n\t\tthis.modal_ = modal;\r\n\t\tthis.pushChanges();\r\n\t}\r\n\r\n\tonInit() {\r\n\t\tconst { node } = getContext(this);\r\n\t\tthis.modalNode = node.querySelector('.modal-outlet__modal');\r\n\t\tModalService.modal$.pipe(\r\n\t\t\ttakeUntil(this.unsubscribe$)\r\n\t\t).subscribe(modal => {\r\n\t\t\tthis.modal = modal;\r\n\t\t});\r\n\t}\r\n\r\n\tonRegister(event) {\r\n\t\t// console.log('ModalComponent.onRegister');\r\n\t\tthis.pushChanges();\r\n\t}\r\n\r\n\tonLogin(event) {\r\n\t\t// console.log('ModalComponent.onLogin');\r\n\t\tthis.pushChanges();\r\n\t}\r\n\r\n\treject(event) {\r\n\t\tModalService.reject();\r\n\t}\r\n\r\n}\r\n\r\nModalOutletComponent.meta = {\r\n\tselector: '[modal-outlet]',\r\n\ttemplate: /* html */ `\r\n\t<div class=\"modal-outlet__container\" [class]=\"{ active: modal }\">\r\n\t\t<div class=\"modal-outlet__background\" (click)=\"reject($event)\"></div>\r\n\t\t<div class=\"modal-outlet__modal\"></div>\r\n\t</div>\r\n\t`\r\n};\r\n","import { Component, getContext } from 'rxcomp';\r\nimport UserService from '../user/user.service';\r\n\r\nexport default class ClubComponent extends Component {\r\n\r\n\tonInit() {\r\n\t\tconst { node } = getContext(this);\r\n\t\tthis.views = {\r\n\t\t\tSIGN_IN: 1,\r\n\t\t\tSIGN_UP: 2,\r\n\t\t\tFORGOTTEN: 3,\r\n\t\t};\r\n\t\tthis.view = node.hasAttribute('view') ? parseInt(node.getAttribute('view')) : this.views.SIGN_IN;\r\n\t}\r\n\r\n\tonForgot(event) {\r\n\t\t// console.log('ClubComponent.onForgot');\r\n\t\tthis.view = this.views.FORGOTTEN;\r\n\t\tthis.pushChanges();\r\n\t}\r\n\r\n\tonLogin(event) {\r\n\t\t// console.log('ClubComponent.onLogin');\r\n\t\tthis.view = this.views.SIGN_IN;\r\n\t\tthis.pushChanges();\r\n\t}\r\n\r\n\tonRegister(event) {\r\n\t\t// console.log('ClubComponent.onRegister');\r\n\t\tthis.view = this.views.SIGN_UP;\r\n\t\tthis.pushChanges();\r\n\t}\r\n\r\n\tonSignIn(user) {\r\n\t\tconsole.log('ClubComponent.onSignIn', user);\r\n\t\tUserService.setUser(user);\r\n\t\twindow.location.href = this.club;\r\n\t\t// nav to profile\r\n\t}\r\n\r\n\tonSignUp(user) {\r\n\t\tconsole.log('ClubComponent.onSignUp', user);\r\n\t\tUserService.setUser(user);\r\n\t\twindow.location.href = this.club;\r\n\t\t// nav to profile\r\n\t}\r\n\r\n\tonForgottenSent(email) {\r\n\t\t/*\r\n\t\tconsole.log('ClubComponent.onForgottenSent', email);\r\n\t\tthis.view = this.views.SIGN_IN;\r\n\t\tthis.pushChanges();\r\n\t\t*/\r\n\t}\r\n}\r\n\r\nClubComponent.meta = {\r\n\tselector: '[club]',\r\n\tinputs: ['club']\r\n};\r\n","import { getContext } from 'rxcomp';\r\nimport ModalOutletComponent from '../modal/modal-outlet.component';\r\nimport ModalService from '../modal/modal.service';\r\nimport ClubComponent from './club.component';\r\n\r\nexport default class ClubModalComponent extends ClubComponent {\r\n\r\n\tonInit() {\r\n\t\tsuper.onInit();\r\n\t\tconst { parentInstance } = getContext(this);\r\n\t\tif (parentInstance instanceof ModalOutletComponent) {\r\n\t\t\tconst data = parentInstance.modal.data;\r\n\t\t\tthis.view = data.view;\r\n\t\t\t// console.log('ClubModalComponent.onInit', data);\r\n\t\t}\r\n\t}\r\n\r\n\tonSignIn(user) {\r\n\t\t// console.log('ClubModalComponent.onSignIn', user);\r\n\t\tModalService.resolve(user);\r\n\t}\r\n\r\n\tonSignUp(user) {\r\n\t\t// console.log('ClubModalComponent.onSignUp', user);\r\n\t\tModalService.resolve(user);\r\n\t}\r\n\r\n\t/*\r\n\tonDestroy() {\r\n\t\t// console.log('ClubModalComponent.onDestroy');\r\n\t}\r\n\t*/\r\n\r\n\tclose() {\r\n\t\tModalService.reject();\r\n\t}\r\n\r\n}\r\n\r\nClubModalComponent.meta = {\r\n\tselector: '[club-modal]'\r\n};\r\n","import { Component } from 'rxcomp';\r\nimport { FormControl, FormGroup, FormValidator, Validators } from 'rxcomp-form';\r\nimport { takeUntil } from 'rxjs/operators';\r\nimport HttpService from '../http/http.service';\r\n\r\nexport default class ClubPasswordEditComponent extends Component {\r\n\r\n\tonInit() {\r\n\r\n\t\tconst form = new FormGroup({\r\n\t\t\tnewPassword: new FormControl(null, [Validators.RequiredValidator()]),\r\n\t\t\tnewPasswordConfirm: new FormControl(null, [Validators.RequiredValidator(), this.MatchValidator('newPassword')]),\r\n\t\t\tcheckRequest: window.antiforgery,\r\n\t\t\tcheckField: ''\r\n\t\t});\r\n\r\n\t\tconst controls = form.controls;\r\n\t\tthis.controls = controls;\r\n\r\n\t\tform.changes$.pipe(\r\n\t\t\ttakeUntil(this.unsubscribe$)\r\n\t\t).subscribe((changes) => {\r\n\t\t\t// console.log('ClubPasswordEditComponent.form.changes$', changes, form.valid);\r\n\t\t\tthis.pushChanges();\r\n\t\t});\r\n\r\n\t\tthis.form = form;\r\n\t\tthis.error = null;\r\n\t\tthis.success = false;\r\n\t}\r\n\r\n\ttest() {\r\n\t\t// user 'rpiemonti@websolute.it'\r\n\t\tthis.form.patch({\r\n\t\t\tnewPassword: 'npword',\r\n\t\t\tnewPasswordConfirm: 'npword',\r\n\t\t\tcheckRequest: window.antiforgery,\r\n\t\t\tcheckField: ''\r\n\t\t});\r\n\t}\r\n\r\n\tMatchValidator(fieldName) {\r\n\t\treturn new FormValidator((value) => {\r\n\t\t\tconst field = this.form ? this.form.get(fieldName) : null;\r\n\t\t\tif (!value || !field) {\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t\treturn value !== field.value ? { match: { value: value, match: field.value } } : null;\r\n\t\t});\r\n\t}\r\n\r\n\treset() {\r\n\t\tthis.form.reset();\r\n\t}\r\n\r\n\tonSubmit() {\r\n\t\t// console.log('ClubPasswordEditComponent.onSubmit', 'form.valid', valid);\r\n\t\tif (this.form.valid) {\r\n\t\t\t // Lo ri-imposto perch essendoci il campo password Chrome fa l'autocomplete dei dati, e riempie il campo checkField con l'username\r\n\t\t\tthis.form.patch({\r\n\t\t\t\tcheckRequest: window.antiforgery,\r\n\t\t\t\tcheckField: ''\r\n\t\t\t});\r\n\t\t\t// console.log('ClubPasswordEditComponent.onSubmit', this.form.value);\r\n\t\t\tthis.form.submitted = true;\r\n\t\t\tHttpService.post$('/api/users/editpassword', this.form.value)\r\n\t\t\t\t.subscribe(response => {\r\n\t\t\t\t\tconsole.log('ClubPasswordEditComponent.onSubmit', response);\r\n\t\t\t\t\tthis.success = true;\r\n\t\t\t\t\tthis.form.reset();\r\n\t\t\t\t\t// this.pushChanges();\r\n\t\t\t\t\t// this.update.next(response);\r\n\t\t\t\t}, error => {\r\n\t\t\t\t\tconsole.log('ClubPasswordEditComponent.error', error);\r\n\t\t\t\t\tthis.error = error;\r\n\t\t\t\t\tthis.pushChanges();\r\n\t\t\t\t});\r\n\t\t} else {\r\n\t\t\tthis.form.touched = true;\r\n\t\t}\r\n\t}\r\n\r\n}\r\n\r\nClubPasswordEditComponent.meta = {\r\n\tselector: '[club-password-edit]',\r\n\t//outputs: ['update'],\r\n};\r\n","import { Component } from 'rxcomp';\r\nimport { FormControl, FormGroup, FormValidator, Validators } from 'rxcomp-form';\r\nimport { takeUntil } from 'rxjs/operators';\r\nimport HttpService from '../http/http.service';\r\n\r\nexport default class ClubPasswordRecoveryComponent extends Component {\r\n\r\n\tonInit() {\r\n\t\tconst form = new FormGroup({\r\n\t\t\temail: new FormControl(null, [Validators.RequiredValidator(), Validators.EmailValidator()]),\r\n\t\t\tnewPassword: new FormControl(null, [Validators.RequiredValidator()]),\r\n\t\t\tnewPasswordConfirm: new FormControl(null, [Validators.RequiredValidator(), this.MatchValidator('newPassword')]),\r\n\t\t\ttokenEncoded: window.tokenEncoded,\r\n\t\t\tcheckRequest: window.antiforgery,\r\n\t\t\tcheckField: ''\r\n\t\t});\r\n\r\n\t\tconst controls = form.controls;\r\n\t\tthis.controls = controls;\r\n\r\n\t\tform.changes$.pipe(\r\n\t\t\ttakeUntil(this.unsubscribe$)\r\n\t\t).subscribe((changes) => {\r\n\t\t\t// console.log('ClubPasswordComponent.form.changes$', changes, form.valid);\r\n\t\t\tthis.pushChanges();\r\n\t\t});\r\n\r\n\t\tthis.form = form;\r\n\t\tthis.error = null;\r\n\t\tthis.success = false;\r\n\t}\r\n\r\n\ttest() {\r\n\t\t// user 'rpiemonti@websolute.it'\r\n\t\tthis.form.patch({\r\n\t\t\temail: 'jhonappleseed@gmail.com',\r\n\t\t\tnewPassword: 'npword',\r\n\t\t\tnewPasswordConfirm: 'npword',\r\n\t\t\ttokenEncoded: 'TESTLOCAL',\r\n\t\t\tcheckRequest: window.antiforgery,\r\n\t\t\tcheckField: ''\r\n\t\t});\r\n\t}\r\n\r\n\tMatchValidator(fieldName) {\r\n\t\treturn new FormValidator((value) => {\r\n\t\t\tconst field = this.form ? this.form.get(fieldName) : null;\r\n\t\t\tif (!value || !field) {\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t\treturn value !== field.value ? { match: { value: value, match: field.value } } : null;\r\n\t\t});\r\n\t}\r\n\r\n\treset() {\r\n\t\tthis.form.reset();\r\n\t}\r\n\r\n\tonSubmit() {\r\n\t\t// console.log('ClubPasswordComponent.onSubmit', 'form.valid', valid);\r\n\t\tif (this.form.valid) {\r\n\t\t\t// console.log('ClubPasswordComponent.onSubmit', this.form.value);\r\n\t\t\tthis.form.submitted = true;\r\n\t\t\tHttpService.post$('/api/users/resetpassword', this.form.value)\r\n\t\t\t\t.subscribe(response => {\r\n\t\t\t\t\tconsole.log('ClubPasswordRecoveryComponent.onSubmit', response);\r\n\t\t\t\t\tthis.success = true;\r\n\t\t\t\t\tthis.form.reset();\r\n\t\t\t\t\t// this.pushChanges();\r\n\t\t\t\t\t// this.update.next(response);\r\n\t\t\t\t}, error => {\r\n\t\t\t\t\tconsole.log('ClubPasswordRecoveryComponent.error', error);\r\n\t\t\t\t\tthis.error = error;\r\n\t\t\t\t\tthis.pushChanges();\r\n\t\t\t\t});\r\n\t\t} else {\r\n\t\t\tthis.form.touched = true;\r\n\t\t}\r\n\t}\r\n\r\n}\r\n\r\nClubPasswordRecoveryComponent.meta = {\r\n\tselector: '[club-password-recovery]',\r\n\t//outputs: ['update'],\r\n};\r\n","import { Component } from 'rxcomp';\r\nimport { FormControl, FormGroup, FormValidator, Validators } from 'rxcomp-form';\r\nimport { of } from 'rxjs';\r\nimport { catchError, takeUntil } from 'rxjs/operators';\r\nimport UserService from '../user/user.service';\r\n\r\nexport default class ClubProfileComponent extends Component {\r\n\r\n\tonInit() {\r\n\t\tconst data = window.data || {\r\n\t\t\troles: [],\r\n\t\t\tcountries: [],\r\n\t\t\tprovinces: [],\r\n\t\t}\r\n\r\n\t\tconst form = new FormGroup({\r\n\t\t\tfirstName: new FormControl(null, Validators.RequiredValidator()),\r\n\t\t\tlastName: new FormControl(null, Validators.RequiredValidator()),\r\n\t\t\tcompany: new FormControl(null, Validators.RequiredValidator()),\r\n\t\t\trole: null,\r\n\t\t\tcountry: new FormControl(null, Validators.RequiredValidator()),\r\n\t\t\tprovince: new FormControl(null, Validators.RequiredValidator()),\r\n\t\t\taddress: new FormControl(null, Validators.RequiredValidator()),\r\n\t\t\tzipCode: new FormControl(null, Validators.RequiredValidator()),\r\n\t\t\tcity: new FormControl(null, Validators.RequiredValidator()),\r\n\t\t\ttelephone: new FormControl(null, Validators.RequiredValidator()),\r\n\t\t\tfax: null,\r\n\t\t\temail: new FormControl(null, [Validators.RequiredValidator(), Validators.EmailValidator()]),\r\n\t\t\t/*\r\n\t\t\t// password autogenerata\r\n\t\t\tusername: new FormControl(null, [Validators.RequiredValidator()]),\r\n\t\t\tpassword: new FormControl(null, [Validators.RequiredValidator()]),\r\n\t\t\tpasswordConfirm: new FormControl(null, [Validators.RequiredValidator(), this.MatchValidator('password')]),\r\n\t\t\t*/\r\n\t\t\t// privacy: new FormControl(null, Validators.RequiredTrueValidator()),\r\n\t\t\tnewsletter: null,\r\n\t\t\tcheckRequest: window.antiforgery,\r\n\t\t\tcheckField: ''\r\n\t\t});\r\n\r\n\t\tconst controls = form.controls;\r\n\t\tcontrols.role.options = data.roles;\r\n\t\tcontrols.country.options = data.countries;\r\n\t\tcontrols.province.options = [];\r\n\t\tthis.controls = controls;\r\n\r\n\t\tform.changes$.pipe(\r\n\t\t\ttakeUntil(this.unsubscribe$)\r\n\t\t).subscribe((changes) => {\r\n\t\t\t// console.log('ClubProfileComponent.form.changes$', changes, form.valid);\r\n\t\t\tthis.countryId = changes.country;\r\n\t\t\tthis.pushChanges();\r\n\t\t});\r\n\r\n\t\tthis.data = data;\r\n\t\tthis.form = form;\r\n\t\tthis.error = null;\r\n\t\tthis.success = false;\r\n\r\n\t\tUserService.me$().pipe(\r\n\t\t\tcatchError(() => of (null)),\r\n\t\t\ttakeUntil(this.unsubscribe$)\r\n\t\t).subscribe(user => {\r\n\t\t\tthis.form.patch(user);\r\n\t\t});\r\n\t}\r\n\r\n\tset countryId(countryId) {\r\n\t\tif (this.countryId_ !== countryId) {\r\n\t\t\t// console.log('ClubProfileComponent.set countryId', countryId);\r\n\t\t\tthis.countryId_ = countryId;\r\n\t\t\tconst provinces = this.data.provinces.filter(province => {\r\n\t\t\t\treturn String(province.idstato) === String(countryId);\r\n\t\t\t});\r\n\t\t\tthis.controls.province.options = provinces;\r\n\t\t\tthis.controls.province.hidden = provinces.length === 0;\r\n\t\t\tif (!provinces.find(x => x.id === this.controls.province.value)) {\r\n\t\t\t\tthis.controls.province.value = null;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\ttest() {\r\n\t\tthis.form.patch({\r\n\t\t\tfirstName: 'Jhon',\r\n\t\t\tlastName: 'Appleseed',\r\n\t\t\tcompany: 'Websolute',\r\n\t\t\trole: this.controls.role.options[0].id,\r\n\t\t\tcountry: this.controls.country.options[0].id,\r\n\t\t\taddress: 'Strada della Campanara',\r\n\t\t\tzipCode: '15',\r\n\t\t\tcity: 'Pesaro',\r\n\t\t\ttelephone: '00390721411112',\r\n\t\t\temail: 'jhonappleseed@gmail.com',\r\n\t\t\t/*\r\n\t\t\t// password autogenerata\r\n\t\t\tusername: 'username',\r\n\t\t\tpassword: 'password',\r\n\t\t\tpasswordConfirm: 'password',\r\n\t\t\t*/\r\n\t\t\t// privacy: true,\r\n\t\t\tcheckRequest: window.antiforgery,\r\n\t\t\tcheckField: ''\r\n\t\t});\r\n\t}\r\n\r\n\tMatchValidator(fieldName) {\r\n\t\treturn new FormValidator((value) => {\r\n\t\t\tconst field = this.form ? this.form.get(fieldName) : null;\r\n\t\t\tif (!value || !field) {\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t\treturn value !== field.value ? { match: { value: value, match: field.value } } : null;\r\n\t\t});\r\n\t}\r\n\r\n\treset() {\r\n\t\tthis.form.reset();\r\n\t}\r\n\r\n\tonSubmit() {\r\n\t\t// console.log('ClubProfileComponent.onSubmit', 'form.valid', valid);\r\n\t\tif (this.form.valid) {\r\n\t\t\t// console.log('ClubProfileComponent.onSubmit', this.form.value);\r\n\t\t\tthis.form.submitted = true;\r\n\t\t\tUserService.update(this.form.value)\r\n\t\t\t\t.subscribe(response => {\r\n\t\t\t\t\tconsole.log('ClubProfileComponent.onSubmit', response);\r\n\t\t\t\t\tthis.success = true;\r\n\t\t\t\t\t// this.form.reset();\r\n\t\t\t\t\tthis.pushChanges();\r\n\t\t\t\t\tthis.update.next(response);\r\n\t\t\t\t}, error => {\r\n\t\t\t\t\tconsole.log('ClubProfileComponent.error', error);\r\n\t\t\t\t\tthis.error = error;\r\n\t\t\t\t\tthis.pushChanges();\r\n\t\t\t\t});\r\n\t\t} else {\r\n\t\t\tthis.form.touched = true;\r\n\t\t}\r\n\t}\r\n\r\n}\r\n\r\nClubProfileComponent.meta = {\r\n\tselector: '[club-profile]',\r\n\toutputs: ['update'],\r\n};\r\n","import { Component } from 'rxcomp';\r\nimport { FormControl, FormGroup, Validators } from 'rxcomp-form';\r\nimport { takeUntil } from 'rxjs/operators';\r\nimport UserService from '../user/user.service';\r\n\r\nexport default class ClubSigninComponent extends Component {\r\n\r\n\tonInit() {\r\n\t\tconst data = window.data || {\r\n\t\t\tinterests: []\r\n\t\t};\r\n\r\n\t\tconst form = new FormGroup({\r\n\t\t\temail: new FormControl(null, [Validators.RequiredValidator(), Validators.EmailValidator()]),\r\n\t\t\tpassword: new FormControl(null, Validators.RequiredValidator()),\r\n\t\t\tcheckRequest: window.antiforgery,\r\n\t\t\tcheckField: ''\r\n\t\t});\r\n\r\n\t\tconst controls = form.controls;\r\n\t\tthis.controls = controls;\r\n\r\n\t\tform.changes$.pipe(\r\n\t\t\ttakeUntil(this.unsubscribe$)\r\n\t\t).subscribe((changes) => {\r\n\t\t\t// console.log('ClubSigninComponent.form.changes$', changes, form.valid);\r\n\t\t\tthis.pushChanges();\r\n\t\t});\r\n\r\n\t\tthis.form = form;\r\n\t\tthis.error = null;\r\n\t\tthis.success = false;\r\n\t}\r\n\r\n\ttest() {\r\n\t\tthis.form.patch({\r\n\t\t\temail: 'jhonappleseed@gmail.com',\r\n\t\t\tpassword: 'password',\r\n\t\t\tcheckRequest: window.antiforgery,\r\n\t\t\tcheckField: ''\r\n\t\t});\r\n\t}\r\n\r\n\treset() {\r\n\t\tthis.form.reset();\r\n\t}\r\n\r\n\tonSubmit() {\r\n\t\t// console.log('ClubSigninComponent.onSubmit', 'form.valid', valid);\r\n\t\tif (this.form.valid) {\r\n\t\t\t// console.log('ClubSigninComponent.onSubmit', this.form.value);\r\n\t\t\tthis.form.submitted = true;\r\n\t\t\t// HttpService.post$('/api/users/Login', this.form.value)\r\n\t\t\tUserService.login$(this.form.value)\r\n\t\t\t\t.subscribe(response => {\r\n\t\t\t\t\tconsole.log('ClubSigninComponent.onSubmit', response);\r\n\t\t\t\t\tthis.success = true;\r\n\t\t\t\t\t// this.form.reset();\r\n\t\t\t\t\tthis.pushChanges();\r\n\t\t\t\t\tthis.signIn.next(typeof response === 'string' ? { status: response } : response);\r\n\t\t\t\t}, error => {\r\n\t\t\t\t\tconsole.log('ClubSigninComponent.error', error);\r\n\t\t\t\t\tthis.error = error;\r\n\t\t\t\t\tthis.pushChanges();\r\n\t\t\t\t});\r\n\t\t} else {\r\n\t\t\tthis.form.touched = true;\r\n\t\t}\r\n\t}\r\n\r\n\tonForgot() {\r\n\t\tthis.forgot.next();\r\n\t}\r\n\r\n\tonRegister() {\r\n\t\tthis.register.next();\r\n\t}\r\n\r\n}\r\n\r\nClubSigninComponent.meta = {\r\n\tselector: '[club-signin]',\r\n\toutputs: ['signIn', 'forgot', 'register'],\r\n};\r\n","import { Component } from 'rxcomp';\r\nimport { FormControl, FormGroup, FormValidator, Validators } from 'rxcomp-form';\r\nimport { takeUntil } from 'rxjs/operators';\r\nimport UserService from '../user/user.service';\r\n\r\nexport default class ClubSignupComponent extends Component {\r\n\r\n\tonInit() {\r\n\t\tconst data = window.data || {\r\n\t\t\troles: [],\r\n\t\t\tcountries: [],\r\n\t\t\tprovinces: [],\r\n\t\t};\r\n\r\n\t\tconst form = new FormGroup({\r\n\t\t\tfirstName: new FormControl(null, Validators.RequiredValidator()),\r\n\t\t\tlastName: new FormControl(null, Validators.RequiredValidator()),\r\n\t\t\tcompany: new FormControl(null, Validators.RequiredValidator()),\r\n\t\t\trole: null,\r\n\t\t\tcountry: new FormControl(null, Validators.RequiredValidator()),\r\n\t\t\tprovince: new FormControl(null, Validators.RequiredValidator()),\r\n\t\t\taddress: new FormControl(null, Validators.RequiredValidator()),\r\n\t\t\tzipCode: new FormControl(null, Validators.RequiredValidator()),\r\n\t\t\tcity: new FormControl(null, Validators.RequiredValidator()),\r\n\t\t\ttelephone: new FormControl(null, Validators.RequiredValidator()),\r\n\t\t\tfax: null,\r\n\t\t\temail: new FormControl(null, [Validators.RequiredValidator(), Validators.EmailValidator()]),\r\n\t\t\t/*\r\n\t\t\t// password autogenerata\r\n\t\t\tusername: new FormControl(null, [Validators.RequiredValidator()]),\r\n\t\t\tpassword: new FormControl(null, [Validators.RequiredValidator()]),\r\n\t\t\tpasswordConfirm: new FormControl(null, [Validators.RequiredValidator(), this.MatchValidator('password')]),\r\n\t\t\t*/\r\n\t\t\tprivacy: new FormControl(null, Validators.RequiredTrueValidator()),\r\n\t\t\tnewsletter: null,\r\n\t\t\tcheckRequest: window.antiforgery,\r\n\t\t\tcheckField: ''\r\n\t\t});\r\n\r\n\t\tconst controls = form.controls;\r\n\t\tcontrols.role.options = data.roles;\r\n\t\tcontrols.country.options = data.countries;\r\n\t\tcontrols.province.options = [];\r\n\t\tthis.controls = controls;\r\n\r\n\t\tform.changes$.pipe(\r\n\t\t\ttakeUntil(this.unsubscribe$)\r\n\t\t).subscribe((changes) => {\r\n\t\t\t// console.log('ClubSignupComponent.form.changes$', changes, form.valid);\r\n\t\t\tthis.countryId = changes.country;\r\n\t\t\tthis.pushChanges();\r\n\t\t});\r\n\r\n\t\tthis.data = data;\r\n\t\tthis.form = form;\r\n\t\tthis.error = null;\r\n\t\tthis.success = false;\r\n\t}\r\n\r\n\tset countryId(countryId) {\r\n\t\tif (this.countryId_ !== countryId) {\r\n\t\t\t// console.log('ClubSignupComponent.set countryId', countryId);\r\n\t\t\tthis.countryId_ = countryId;\r\n\t\t\tconst provinces = this.data.provinces.filter(province => {\r\n\t\t\t\treturn String(province.idstato) === String(countryId);\r\n\t\t\t});\r\n\t\t\tthis.controls.province.options = provinces;\r\n\t\t\tthis.controls.province.hidden = provinces.length === 0;\r\n\t\t\tif (!provinces.find(x => x.id === this.controls.province.value)) {\r\n\t\t\t\tthis.controls.province.value = null;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\ttest() {\r\n\t\tthis.form.patch({\r\n\t\t\tfirstName: 'Jhon',\r\n\t\t\tlastName: 'Appleseed',\r\n\t\t\tcompany: 'Websolute',\r\n\t\t\trole: this.controls.role.options[0].id,\r\n\t\t\tcountry: this.controls.country.options[0].id,\r\n\t\t\taddress: 'Strada della Campanara',\r\n\t\t\tzipCode: '15',\r\n\t\t\tcity: 'Pesaro',\r\n\t\t\ttelephone: '00390721411112',\r\n\t\t\temail: 'jhonappleseed@gmail.com',\r\n\t\t\t/*\r\n\t\t\tusername: 'username',\r\n\t\t\tpassword: 'password',\r\n\t\t\tpasswordConfirm: 'password',\r\n\t\t\t*/\r\n\t\t\tprivacy: true,\r\n\t\t\tcheckRequest: window.antiforgery,\r\n\t\t\tcheckField: ''\r\n\t\t});\r\n\t}\r\n\r\n\tMatchValidator(fieldName) {\r\n\t\treturn new FormValidator((value) => {\r\n\t\t\tconst field = this.form ? this.form.get(fieldName) : null;\r\n\t\t\tif (!value || !field) {\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t\treturn value !== field.value ? { match: { value: value, match: field.value } } : null;\r\n\t\t});\r\n\t}\r\n\r\n\treset() {\r\n\t\tthis.form.reset();\r\n\t}\r\n\r\n\tonSubmit() {\r\n\t\t// console.log('ClubSignupComponent.onSubmit', 'form.valid', valid);\r\n\t\tif (this.form.valid) {\r\n\t\t\t// console.log('ClubSignupComponent.onSubmit', this.form.value);\r\n\t\t\tthis.form.submitted = true;\r\n\t\t\t// HttpService.post$('/api/users/Register', this.form.value)\r\n\t\t\tUserService.register$(this.form.value)\r\n\t\t\t\t.subscribe(response => {\r\n\t\t\t\t\tconsole.log('ClubSignupComponent.onSubmit', response);\r\n\t\t\t\t\tthis.success = true;\r\n\t\t\t\t\tdataLayer.push({\r\n\t\t\t\t\t\t'event': 'formSubmission',\r\n\t\t\t\t\t\t'form type': 'Registrazione Tiemme Club'\r\n\t\t\t\t\t});\r\n\t\t\t\t\tthis.form.reset();\r\n\t\t\t\t\t// this.pushChanges();\r\n\t\t\t\t\t// this.signUp.next(response);\r\n\t\t\t\t}, error => {\r\n\t\t\t\t\tconsole.log('ClubSignupComponent.error', error);\r\n\t\t\t\t\tthis.error = error;\r\n\t\t\t\t\tthis.form.submitted = false;\r\n\t\t\t\t\tthis.pushChanges();\r\n\t\t\t\t});\r\n\t\t} else {\r\n\t\t\tthis.form.touched = true;\r\n\t\t}\r\n\t}\r\n\r\n\tonLogin() {\r\n\t\tthis.login.next();\r\n\t}\r\n\r\n}\r\n\r\nClubSignupComponent.meta = {\r\n\tselector: '[club-signup]',\r\n\t//outputs: ['signUp', 'login'],\r\n};\r\n","import { Directive, getContext } from \"rxcomp\";\r\nimport { takeUntil } from \"rxjs/operators\";\r\nimport DropdownDirective from \"./dropdown.directive\";\r\n\r\nexport default class DropdownItemDirective extends Directive {\r\n\r\n\tget id() {\r\n\t\treturn this['dropdown-item'];\r\n\t}\r\n\r\n\tonInit() {\r\n\t\tconst { node } = getContext(this);\r\n\t\tnode.classList.add('dropdown-item');\r\n\t\tDropdownDirective.dropdown$.pipe(\r\n\t\t\ttakeUntil(this.unsubscribe$)\r\n\t\t).subscribe(id => {\r\n\t\t\t// console.log('DropdownItemDirective', id, this['dropdown-item']);\r\n\t\t\tif (this.id === id) {\r\n\t\t\t\tnode.classList.add('dropped');\r\n\t\t\t} else {\r\n\t\t\t\tnode.classList.remove('dropped');\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n}\r\n\r\nDropdownItemDirective.meta = {\r\n\tselector: '[dropdown-item], [[dropdown-item]]',\r\n\tinputs: ['dropdown-item']\r\n};\r\n","import { Component, getContext } from 'rxcomp';\r\n\r\nexport default class ControlComponent extends Component {\r\n\r\n\tonChanges() {\r\n\t\tconst { node } = getContext(this);\r\n\t\tconst control = this.control;\r\n\t\tconst flags = control.flags;\r\n\t\tObject.keys(flags).forEach((key) => {\r\n\t\t\tflags[key] ? node.classList.add(key) : node.classList.remove(key);\r\n\t\t});\r\n\t}\r\n\r\n}\r\n\r\nControlComponent.meta = {\r\n\tselector: '[control]',\r\n\tinputs: ['control']\r\n};\r\n","import ControlComponent from './control.component';\r\n\r\nexport default class ControlCheckboxComponent extends ControlComponent {\r\n\r\n\tonInit() {\r\n\t\tthis.label = 'label';\r\n\t}\r\n\r\n}\r\n\r\nControlCheckboxComponent.meta = {\r\n\tselector: '[control-checkbox]',\r\n\tinputs: ['control', 'label'],\r\n\ttemplate: /* html */ `\r\n\t\t<div class=\"group--form--checkbox\" [class]=\"{ required: control.validators.length }\">\r\n\t\t\t<label>\r\n\t\t\t\t<input type=\"checkbox\" class=\"control--checkbox\" [formControl]=\"control\" [value]=\"true\" />\r\n\t\t\t\t<span [innerHTML]=\"label | html\"></span>\r\n\t\t\t</label>\r\n\t\t\t<span class=\"required__badge\">required</span>\r\n\t\t</div>\r\n\t\t<errors-component [control]=\"control\"></errors-component>\r\n\t`\r\n};\r\n","import { fromEvent } from 'rxjs';\r\nimport { filter, map, shareReplay } from 'rxjs/operators';\r\n\r\nexport default class KeyboardService {\r\n\r\n\tstatic keydown$() {\r\n\t\treturn fromEvent(window, 'keydown').pipe(\r\n\t\t\tshareReplay(1)\r\n\t\t);\r\n\t}\r\n\r\n\tstatic keyup$() {\r\n\t\treturn fromEvent(window, 'keyup').pipe(\r\n\t\t\tshareReplay(1)\r\n\t\t);\r\n\t}\r\n\r\n\tstatic typing$() {\r\n\t\tlet typing = '',\r\n\t\t\tto;\r\n\t\treturn this.key$().pipe(\r\n\t\t\tmap(key => {\r\n\t\t\t\tif (to) {\r\n\t\t\t\t\tclearTimeout(to);\r\n\t\t\t\t}\r\n\t\t\t\ttyping += key;\r\n\t\t\t\tto = setTimeout(() => {\r\n\t\t\t\t\ttyping = '';\r\n\t\t\t\t}, 1500);\r\n\t\t\t\treturn typing;\r\n\t\t\t}),\r\n\t\t\tshareReplay(1)\r\n\t\t)\r\n\t}\r\n\r\n\tstatic key$() {\r\n\t\tconst regexp = /\\w/;\r\n\t\treturn this.keydown$().pipe(\r\n\t\t\tfilter(event => event.key && event.key.match(regexp)),\r\n\t\t\tmap(event => event.key),\r\n\t\t\tshareReplay(1)\r\n\t\t)\r\n\t}\r\n\r\n}\r\n","import { getContext } from 'rxcomp';\r\nimport { takeUntil } from 'rxjs/operators';\r\nimport DropdownDirective from '../dropdown/dropdown.directive';\r\nimport KeyboardService from '../keyboard/keyboard.service';\r\nimport ControlComponent from './control.component';\r\n\r\nexport default class ControlCustomSelectComponent extends ControlComponent {\r\n\r\n\tonInit() {\r\n\t\tthis.label = 'label';\r\n\t\tthis.labels = window.labels || {};\r\n\t\tthis.dropped = false;\r\n\t\tthis.dropdownId = DropdownDirective.nextId();\r\n\t\tKeyboardService.typing$().pipe(\r\n\t\t\ttakeUntil(this.unsubscribe$)\r\n\t\t).subscribe(word => {\r\n\t\t\tthis.scrollToWord(word);\r\n\t\t});\r\n\t\t/*\r\n\t\tKeyboardService.key$().pipe(\r\n\t\t\ttakeUntil(this.unsubscribe$)\r\n\t\t).subscribe(key => {\r\n\t\t\tthis.scrollToKey(key);\r\n\t\t});\r\n\t\t*/\r\n\t}\r\n\r\n\tscrollToWord(word) {\r\n\t\t// console.log('ControlCustomSelectComponent.scrollToWord', word);\r\n\t\tconst items = this.control.options || [];\r\n\t\tlet index = -1;\r\n\t\tfor (let i = 0; i < items.length; i++) {\r\n\t\t\tconst x = items[i];\r\n\t\t\tif (x.name.toLowerCase().indexOf(word.toLowerCase()) === 0) {\r\n\t\t\t\t// console.log(word, x.name);\r\n\t\t\t\tindex = i;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (index !== -1) {\r\n\t\t\tconst { node } = getContext(this);\r\n\t\t\tconst dropdown = node.querySelector('.dropdown');\r\n\t\t\tconst navDropdown = node.querySelector('.nav--dropdown');\r\n\t\t\tconst item = navDropdown.children[index];\r\n\t\t\tdropdown.scrollTo(0, item.offsetTop);\r\n\t\t}\r\n\t}\r\n\r\n\t/*\r\n\tsetOption(item) {\r\n\t\tthis.control.value = item.id;\r\n\t\t// DropdownDirective.dropdown$.next(null);\r\n\t}\r\n\t*/\r\n\r\n\tsetOption(item) {\r\n\t\tconsole.log('setOption', item, this.isMultiple);\r\n\t\tif (this.isMultiple) {\r\n\t\t\tconst value = this.control.value || [];\r\n\t\t\tconst index = value.indexOf(item.id);\r\n\t\t\tif (index !== -1) {\r\n\t\t\t\t// if (value.length > 1) {\r\n\t\t\t\tvalue.splice(index, 1);\r\n\t\t\t\t// }\r\n\t\t\t} else {\r\n\t\t\t\tvalue.push(item.id);\r\n\t\t\t}\r\n\t\t\tthis.control.value = value.length ? value.slice() : null;\r\n\t\t} else {\r\n\t\t\tthis.control.value = item.id;\r\n\t\t\t// DropdownDirective.dropdown$.next(null);\r\n\t\t}\r\n\t}\r\n\r\n\thasOption(item) {\r\n\t\tif (this.isMultiple) {\r\n\t\t\tconst values = this.control.value || [];\r\n\t\t\treturn values.indexOf(item.id) !== -1;\r\n\t\t} else {\r\n\t\t\treturn this.control.value === item.id;\r\n\t\t}\r\n\t}\r\n\r\n\tonDropped(id) {\r\n\t\t// console.log('ControlCustomSelectComponent.onDropped', id);\r\n\t}\r\n\r\n\tgetLabel() {\r\n\t\tlet value = this.control.value;\r\n\t\tconst items = this.control.options || [];\r\n\t\tif (this.isMultiple) {\r\n\t\t\tvalue = value || [];\r\n\t\t\tif (value.length) {\r\n\t\t\t\treturn value.map(v => {\r\n\t\t\t\t\tconst item = items.find(x => x.id === v || x.name === v);\r\n\t\t\t\t\treturn item ? item.name : '';\r\n\t\t\t\t}).join(', ');\r\n\t\t\t} else {\r\n\t\t\t\treturn this.labels.select;\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tconst item = items.find(x => x.id === value || x.name === value);\r\n\t\t\tif (item) {\r\n\t\t\t\treturn item.name;\r\n\t\t\t} else {\r\n\t\t\t\treturn this.labels.select;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tonDropped($event) {\r\n\t\t// console.log($event);\r\n\t\tthis.dropped = $event === this.dropdownId;\r\n\t}\r\n\r\n\t/*\r\n\tonClick(event) {\r\n\t\tconst { node } = getContext(this);\r\n\t\tnode.querySelector('.dropdown').classList.add('dropped');\r\n\t}\r\n\t*/\r\n\r\n\t/*\r\n\tonClickOutside(event) {\r\n\t\tconst { node } = getContext(this);\r\n\t\tnode.querySelector('.dropdown').classList.remove('dropped');\r\n\t}\r\n\t*/\r\n\r\n\tget isMultiple() {\r\n\t\treturn this.multiple && this.multiple !== false && this.multiple !== 'false';\r\n\t}\r\n\r\n}\r\n\r\nControlCustomSelectComponent.meta = {\r\n\tselector: '[control-custom-select]',\r\n\tinputs: ['control', 'label', 'multiple'],\r\n\ttemplate: /* html */ `\r\n\t\t<div class=\"group--form--select\" [class]=\"{ required: control.validators.length, multiple: isMultiple }\" [dropdown]=\"dropdownId\" (dropped)=\"onDropped($event)\">\r\n\t\t\t<label [innerHTML]=\"label\"></label>\r\n\t\t\t<span class=\"control--select\" [innerHTML]=\"getLabel()\"></span>\r\n\t\t\t<svg class=\"icon icon--caret-down\"><use xlink:href=\"#caret-down\"></use></svg>\r\n\t\t\t<span class=\"required__badge\">required</span>\r\n\t\t</div>\r\n\t\t<errors-component [control]=\"control\"></errors-component>\r\n\t\t<div class=\"dropdown\" [dropdown-item]=\"dropdownId\">\r\n\t\t\t<div class=\"category\" [innerHTML]=\"label\"></div>\r\n\t\t\t<ul class=\"nav--dropdown\" [class]=\"{ multiple: isMultiple }\">\r\n\t\t\t<li *for=\"let item of control.options\" (click)=\"setOption(item)\"><span [class]=\"{ active: hasOption(item) }\" [innerHTML]=\"item.name\"></span></li>\r\n\t\t\t</ul>\r\n\t\t</div>\r\n\t`\r\n\t/*  (click)=\"onClick($event)\" (clickOutside)=\"onClickOutside($event)\" */\r\n\t/*  <!-- <div class=\"dropdown\" [class]=\"{ dropped: dropped }\"> --> */\r\n};\r\n","import ControlComponent from './control.component';\r\n\r\nexport default class ControlEmailComponent extends ControlComponent {\r\n\r\n\tonInit() {\r\n\t\tthis.label = 'label';\r\n\t}\r\n\r\n}\r\n\r\nControlEmailComponent.meta = {\r\n\tselector: '[control-email]',\r\n\tinputs: ['control', 'label'],\r\n\ttemplate: /* html */ `\r\n\t\t<div class=\"group--form\" [class]=\"{ required: control.validators.length }\">\r\n\t\t\t<label [innerHTML]=\"label\"></label>\r\n\t\t\t<input type=\"text\" class=\"control--text\" [formControl]=\"control\" [placeholder]=\"label\" required email />\r\n\t\t\t<span class=\"required__badge\">required</span>\r\n\t\t</div>\r\n\t\t<errors-component [control]=\"control\"></errors-component>\r\n\t`\r\n};\r\n","import ControlComponent from './control.component';\r\n\r\nexport default class ControlFileComponent extends ControlComponent {\r\n\r\n\tonInit() {\r\n\t\tthis.label = 'label';\r\n\t\tthis.labels = window.labels || {};\r\n\t\tthis.file = null;\r\n\t\tthis.required = false;\r\n\t\tthis.onReaderComplete = this.onReaderComplete.bind(this);\r\n\t}\r\n\r\n\tonInputDidChange(event) {\r\n\t\tconst input = event.target;\r\n\t\tconst file = input.files[0];\r\n\t\tthis.file = {\r\n\t\t\tname: file.name,\r\n\t\t\tlastModified: file.lastModified,\r\n\t\t\tlastModifiedDate: file.lastModifiedDate,\r\n\t\t\tsize: file.size,\r\n\t\t\ttype: file.type,\r\n\t\t}\r\n\t\tconst reader = new FileReader();\r\n\t\treader.addEventListener('load', this.onReaderComplete);\r\n\t\treader.readAsDataURL(file);\r\n\t\t// reader.readAsArrayBuffer() // Starts reading the contents of the specified Blob, once finished, the result attribute contains an ArrayBuffer representing the file's data.\r\n\t\t// reader.readAsBinaryString() // Starts reading the contents of the specified Blob, once finished, the result attribute contains the raw binary data from the file as a string.\r\n\t\t// reader.readAsDataURL() // Starts reading the contents of the specified Blob, once finished, the result attribute contains a data: URL representing the file's data.\r\n\t\t// reader.readAsText() // Starts reading the contents of the specified Blob, once finished, the result attribute contains the contents of the file as a text string. An optional encoding name can be specified.\r\n\t}\r\n\r\n\tonReaderComplete(event) {\r\n\t\tconst content = event.target.result;\r\n\t\tthis.file.content = content;\r\n\t\tthis.control.value = this.file;\r\n\t\t// console.log('ControlFileComponent.onReaderComplete', this.file);\r\n\t\t// image/*,\r\n\t}\r\n\r\n}\r\n\r\nControlFileComponent.meta = {\r\n\tselector: '[control-file]',\r\n\tinputs: ['control', 'label'],\r\n\ttemplate: /* html */ `\r\n\t\t<div class=\"group--form--file\" [class]=\"{ required: control.validators.length }\">\r\n\t\t\t<label for=\"file\" [innerHTML]=\"label\"></label>\r\n\t\t\t<span class=\"control--select\" [innerHTML]=\"file?.name || labels.select_file\"></span>\r\n\t\t\t<svg class=\"icon icon--upload\"><use xlink:href=\"#upload\"></use></svg>\r\n\t\t\t<span class=\"required__badge\">required</span>\r\n\t\t\t<input name=\"file\" type=\"file\" accept=\".pdf,.doc,.docx,*.txt\" class=\"control--file\" (change)=\"onInputDidChange($event)\" />\r\n\t\t</div>\r\n\t\t<errors-component [control]=\"control\"></errors-component>\r\n\t`\r\n};\r\n","import ControlComponent from './control.component';\r\n\r\nexport default class ControlPasswordComponent extends ControlComponent {\r\n\r\n\tonInit() {\r\n\t\tthis.label = 'label';\r\n\t\tthis.required = false;\r\n\t}\r\n\r\n}\r\n\r\nControlPasswordComponent.meta = {\r\n\tselector: '[control-password]',\r\n\tinputs: ['control', 'label'],\r\n\ttemplate: /* html */ `\r\n\t\t<div class=\"group--form\" [class]=\"{ required: control.validators.length }\">\r\n\t\t\t<label [innerHTML]=\"label\"></label>\r\n\t\t\t<input type=\"password\" class=\"control--text\" [formControl]=\"control\" [placeholder]=\"label\" />\r\n\t\t\t<span class=\"required__badge\">required</span>\r\n\t\t</div>\r\n\t\t<errors-component [control]=\"control\"></errors-component>\r\n\t`\r\n};\r\n","import ControlComponent from './control.component';\r\n\r\nexport default class ControlSelectComponent extends ControlComponent {\r\n\r\n\tonInit() {\r\n\t\tthis.label = 'label';\r\n\t\tthis.labels = window.labels || {};\r\n\t}\r\n\r\n}\r\n\r\nControlSelectComponent.meta = {\r\n\tselector: '[control-select]',\r\n\tinputs: ['control', 'label'],\r\n\ttemplate: /* html */ `\r\n\t\t<div class=\"group--form--select\" [class]=\"{ required: control.validators.length }\">\r\n\t\t\t<label [innerHTML]=\"label\"></label>\r\n\t\t\t<select class=\"control--select\" [formControl]=\"control\" required>\r\n\t\t\t\t<option value=\"\">{{labels.select}}</option>\r\n\t\t\t\t<option [value]=\"item.id\" *for=\"let item of control.options\" [innerHTML]=\"item.name\"></option>\r\n\t\t\t</select>\r\n\t\t\t<span class=\"required__badge\">required</span>\r\n\t\t\t<svg class=\"icon icon--caret-down\"><use xlink:href=\"#caret-down\"></use></svg>\r\n\t\t</div>\r\n\t\t<errors-component [control]=\"control\"></errors-component>\r\n\t`\r\n};\r\n","import ControlComponent from './control.component';\r\n\r\nexport default class ControlTextComponent extends ControlComponent {\r\n\r\n\tonInit() {\r\n\t\tthis.label = 'label';\r\n\t\tthis.required = false;\r\n\t}\r\n\r\n}\r\n\r\nControlTextComponent.meta = {\r\n\tselector: '[control-text]',\r\n\tinputs: ['control', 'label'],\r\n\ttemplate: /* html */ `\r\n\t\t<div class=\"group--form\" [class]=\"{ required: control.validators.length }\">\r\n\t\t\t<label [innerHTML]=\"label\"></label>\r\n\t\t\t<input type=\"text\" class=\"control--text\" [formControl]=\"control\" [placeholder]=\"label\" />\r\n\t\t\t<span class=\"required__badge\">required</span>\r\n\t\t</div>\r\n\t\t<errors-component [control]=\"control\"></errors-component>\r\n\t`\r\n};\r\n","import ControlComponent from './control.component';\r\n\r\nexport default class ControlTextareaComponent extends ControlComponent {\r\n\r\n\tonInit() {\r\n\t\tthis.label = 'label';\r\n\t\tthis.required = false;\r\n\t}\r\n\r\n}\r\n\r\nControlTextareaComponent.meta = {\r\n\tselector: '[control-textarea]',\r\n\tinputs: ['control', 'label'],\r\n\ttemplate: /* html */ `\r\n\t\t<div class=\"group--form--textarea\" [class]=\"{ required: control.validators.length }\">\r\n\t\t\t<label [innerHTML]=\"label\"></label>\r\n\t\t\t<textarea class=\"control--text\" [formControl]=\"control\" [innerHTML]=\"label\" rows=\"4\"></textarea>\r\n\t\t\t<span class=\"required__badge\">required</span>\r\n\t\t</div>\r\n\t\t<errors-component [control]=\"control\"></errors-component>\r\n\t`\r\n};\r\n","import ControlComponent from './control.component';\r\n\r\nexport default class ErrorsComponent extends ControlComponent {\r\n\r\n\tonInit() {\r\n\t\tthis.labels = window.labels || {};\r\n\t}\r\n\r\n\tgetLabel(key, value) {\r\n\t\tconst label = this.labels[`error_${key}`];\r\n\t\treturn label;\r\n\t}\r\n\r\n}\r\n\r\nErrorsComponent.meta = {\r\n\tselector: 'errors-component',\r\n\tinputs: ['control'],\r\n\ttemplate: /* html */ `\r\n\t<div class=\"inner\" [style]=\"{ display: control.invalid && control.touched ? 'block' : 'none' }\">\r\n\t\t<div class=\"error\" *for=\"let [key, value] of control.errors\">\r\n\t\t\t<span [innerHTML]=\"getLabel(key, value)\"></span>\r\n\t\t\t<!-- <span class=\"key\" [innerHTML]=\"key\"></span> <span class=\"value\" [innerHTML]=\"value | json\"></span> -->\r\n\t\t</div>\r\n\t</div>\r\n\t`\r\n};\r\n","import { Component } from 'rxcomp';\r\nimport { ENV } from '../environment/environment';\r\n\r\nexport default class TestComponent extends Component {\r\n\r\n\tonInit() {\r\n\t\tthis.env = ENV;\r\n\t}\r\n\r\n\tonTest(event) {\r\n\t\tthis.test.next(event);\r\n\t}\r\n\r\n\tonReset(event) {\r\n\t\tthis.reset.next(event);\r\n\t}\r\n\r\n}\r\n\r\nTestComponent.meta = {\r\n\tselector: 'test-component',\r\n\tinputs: ['form'],\r\n\toutputs: ['test', 'reset'],\r\n\ttemplate: /* html */ `\r\n\t<div class=\"group--form--results\" *if=\"env.DEVELOPMENT\">\r\n\t\t<code [innerHTML]=\"form.value | json\"></code>\r\n\t\t<button type=\"button\" class=\"btn--link\" (click)=\"onTest($event)\"><span>test</span></button>\r\n\t\t<button type=\"button\" class=\"btn--link\" (click)=\"onReset($event)\"><span>reset</span></button>\r\n\t</div>\r\n\t`\r\n};\r\n","import { fromEvent } from \"rxjs\";\r\nimport { map, startWith, tap } from \"rxjs/operators\";\r\n\r\nexport default class CssService {\r\n\r\n\tstatic height$() {\r\n\t\tconst style = document.documentElement.style;\r\n\t\treturn fromEvent(window, 'resize').pipe(\r\n\t\t\tmap(event => window.innerHeight),\r\n\t\t\tstartWith(window.innerHeight),\r\n\t\t\ttap(height => {\r\n\t\t\t\t// First we get the viewport height and we multiple it by 1% to get a value for a vh unit\r\n\t\t\t\tlet vh = height * 0.01;\r\n\t\t\t\t// Then we set the value in the --vh custom property to the root of the document\r\n\t\t\t\tstyle.setProperty('--vh', `${vh}px`);\r\n\t\t\t})\r\n\t\t);\r\n\t}\r\n\r\n}\r\n","import { Component } from 'rxcomp';\r\nimport { of } from 'rxjs';\r\nimport { catchError, takeUntil } from 'rxjs/operators';\r\nimport CssService from '../css/css.service';\r\nimport UserService from '../user/user.service';\r\n\r\nexport default class HeaderComponent extends Component {\r\n\r\n\tonInit() {\r\n\t\tthis.menu = null;\r\n\t\tthis.submenu = null;\r\n\t\tthis.user = null;\r\n\t\tUserService.user$.pipe(\r\n\t\t\ttakeUntil(this.unsubscribe$)\r\n\t\t).subscribe(user => {\r\n\t\t\tthis.user = user;\r\n\t\t\tthis.pushChanges();\r\n\t\t});\r\n\t\tUserService.me$().pipe(\r\n\t\t\tcatchError(() => of (null)),\r\n\t\t\ttakeUntil(this.unsubscribe$)\r\n\t\t).subscribe(user => {\r\n\t\t\tconsole.log('user', user);\r\n\t\t});\r\n\t\tCssService.height$().pipe(\r\n\t\t\ttakeUntil(this.unsubscribe$)\r\n\t\t).subscribe(height => {\r\n\t\t\t// console.log('HeaderComponent.height$', height);\r\n\t\t});\r\n\t}\r\n\r\n\ttoggleMenu($event) {\r\n\t\tthis.menu = this.menu !== $event ? $event : null;\r\n\t\t// console.log('toggleMenu', this.menu);\r\n\t\tconst body = document.querySelector('body');\r\n\t\tthis.menu ? body.classList.add('fixed') : body.classList.remove('fixed');\r\n\t\tthis.submenu = null;\r\n\t\tthis.pushChanges();\r\n\t}\r\n\r\n\tonDropped(id) {\r\n\t\t// console.log('HeaderComponent.onDropped', id);\r\n\t\tthis.submenu = id;\r\n\t\tthis.pushChanges();\r\n\t}\r\n\r\n}\r\n\r\nHeaderComponent.meta = {\r\n\tselector: 'header',\r\n};\r\n","import { Pipe } from \"rxcomp\";\r\n\r\n/*\r\n['quot', 'amp', 'apos', 'lt', 'gt', 'nbsp', 'iexcl', 'cent', 'pound', 'curren', 'yen', 'brvbar', 'sect', 'uml', 'copy', 'ordf', 'laquo', 'not', 'shy', 'reg', 'macr', 'deg', 'plusmn', 'sup2', 'sup3', 'acute', 'micro', 'para', 'middot', 'cedil', 'sup1', 'ordm', 'raquo', 'frac14', 'frac12', 'frac34', 'iquest', 'Agrave', 'Aacute', 'Acirc', 'Atilde', 'Auml', 'Aring', 'AElig', 'Ccedil', 'Egrave', 'Eacute', 'Ecirc', 'Euml', 'Igrave', 'Iacute', 'Icirc', 'Iuml', 'ETH', 'Ntilde', 'Ograve', 'Oacute', 'Ocirc', 'Otilde', 'Ouml', 'times', 'Oslash', 'Ugrave', 'Uacute', 'Ucirc', 'Uuml', 'Yacute', 'THORN', 'szlig', 'agrave', 'aacute', 'atilde', 'auml', 'aring', 'aelig', 'ccedil', 'egrave', 'eacute', 'ecirc', 'euml', 'igrave', 'iacute', 'icirc', 'iuml', 'eth', 'ntilde', 'ograve', 'oacute', 'ocirc', 'otilde', 'ouml', 'divide', 'oslash', 'ugrave', 'uacute', 'ucirc', 'uuml', 'yacute', 'thorn', 'yuml', 'amp', 'bull', 'deg', 'infin', 'permil', 'sdot', 'plusmn', 'dagger', 'mdash', 'not', 'micro', 'perp', 'par', 'euro', 'pound', 'yen', 'cent', 'copy', 'reg', 'trade', 'alpha', 'beta', 'gamma', 'delta', 'epsilon', 'zeta', 'eta', 'theta', 'iota', 'kappa', 'lambda', 'mu', 'nu', 'xi', 'omicron', 'pi', 'rho', 'sigma', 'tau', 'upsilon', 'phi', 'chi', 'psi', 'omega', 'Alpha', 'Beta', 'Gamma', 'Delta', 'Epsilon', 'Zeta', 'Eta', 'Theta', 'Iota', 'Kappa', 'Lambda', 'Mu', 'Nu', 'Xi', 'Omicron', 'Pi', 'Rho', 'Sigma', 'Tau', 'Upsilon', 'Phi', 'Chi', 'Psi', 'Omega'];\r\n['\"', '&', ''', '<', '>', ' ', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '&', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', ''];\r\n*/\r\n\r\nexport default class HtmlPipe extends Pipe {\r\n\r\n\tstatic transform(value) {\r\n\t\tif (value) {\r\n\t\t\tvalue = value.replace(/&#(\\d+);/g, function(m, n) {\r\n\t\t\t\treturn String.fromCharCode(parseInt(n));\r\n\t\t\t});\r\n\t\t\tconst escapes = ['quot', 'amp', 'apos', 'lt', 'gt', 'nbsp', 'iexcl', 'cent', 'pound', 'curren', 'yen', 'brvbar', 'sect', 'uml', 'copy', 'ordf', 'laquo', 'not', 'shy', 'reg', 'macr', 'deg', 'plusmn', 'sup2', 'sup3', 'acute', 'micro', 'para', 'middot', 'cedil', 'sup1', 'ordm', 'raquo', 'frac14', 'frac12', 'frac34', 'iquest', 'Agrave', 'Aacute', 'Acirc', 'Atilde', 'Auml', 'Aring', 'AElig', 'Ccedil', 'Egrave', 'Eacute', 'Ecirc', 'Euml', 'Igrave', 'Iacute', 'Icirc', 'Iuml', 'ETH', 'Ntilde', 'Ograve', 'Oacute', 'Ocirc', 'Otilde', 'Ouml', 'times', 'Oslash', 'Ugrave', 'Uacute', 'Ucirc', 'Uuml', 'Yacute', 'THORN', 'szlig', 'agrave', 'aacute', 'atilde', 'auml', 'aring', 'aelig', 'ccedil', 'egrave', 'eacute', 'ecirc', 'euml', 'igrave', 'iacute', 'icirc', 'iuml', 'eth', 'ntilde', 'ograve', 'oacute', 'ocirc', 'otilde', 'ouml', 'divide', 'oslash', 'ugrave', 'uacute', 'ucirc', 'uuml', 'yacute', 'thorn', 'yuml', 'amp', 'bull', 'deg', 'infin', 'permil', 'sdot', 'plusmn', 'dagger', 'mdash', 'not', 'micro', 'perp', 'par', 'euro', 'pound', 'yen', 'cent', 'copy', 'reg', 'trade', 'alpha', 'beta', 'gamma', 'delta', 'epsilon', 'zeta', 'eta', 'theta', 'iota', 'kappa', 'lambda', 'mu', 'nu', 'xi', 'omicron', 'pi', 'rho', 'sigma', 'tau', 'upsilon', 'phi', 'chi', 'psi', 'omega', 'Alpha', 'Beta', 'Gamma', 'Delta', 'Epsilon', 'Zeta', 'Eta', 'Theta', 'Iota', 'Kappa', 'Lambda', 'Mu', 'Nu', 'Xi', 'Omicron', 'Pi', 'Rho', 'Sigma', 'Tau', 'Upsilon', 'Phi', 'Chi', 'Psi', 'Omega'];\r\n\t\t\tconst unescapes = ['\"', '&', '\\'', '<', '>', ' ', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '&', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', ''];\r\n\t\t\tconst rx = new RegExp(`(&${escapes.join(';)|(&')};)`, 'g');\r\n\t\t\tvalue = value.replace(rx, function() {\r\n\t\t\t\tfor (let i = 1; i < arguments.length; i++) {\r\n\t\t\t\t\tif (arguments[i]) {\r\n\t\t\t\t\t\t// console.log(arguments[i], unescapes[i - 1]);\r\n\t\t\t\t\t\treturn unescapes[i - 1];\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\t// console.log(value);\r\n\t\t\treturn value;\r\n\t\t}\r\n\t}\r\n\r\n}\r\n\r\nHtmlPipe.meta = {\r\n\tname: 'html',\r\n};\r\n","import { fromEvent, of } from 'rxjs';\r\nimport { filter, finalize, first, map } from 'rxjs/operators';\r\nimport { STATIC } from '../environment/environment';\r\n\r\nconst PATH = STATIC ? './' : '/Client/docs/';\r\n\r\nlet UID = 0;\r\n\r\nexport default class ImageService {\r\n\r\n\tstatic worker() {\r\n\t\tif (!this.worker_) {\r\n\t\t\tthis.worker_ = new Worker(`${PATH}js/workers/image.service.worker.js`);\r\n\t\t}\r\n\t\treturn this.worker_;\r\n\t}\r\n\r\n\tstatic load$(src) {\r\n\t\tif (!('Worker' in window) || this.isBlob(src) || this.isCors(src)) {\r\n\t\t\treturn of(src);\r\n\t\t}\r\n\t\tconst id = ++UID;\r\n\t\tconst worker = this.worker();\r\n\t\tworker.postMessage({ src, id });\r\n\t\treturn fromEvent(worker, 'message').pipe(\r\n\t\t\tfilter(event => event.data.src === src),\r\n\t\t\tmap(event => {\r\n\t\t\t\tconst url = URL.createObjectURL(event.data.blob);\r\n\t\t\t\treturn url;\r\n\t\t\t}),\r\n\t\t\tfirst(),\r\n\t\t\tfinalize(url => {\r\n\t\t\t\tworker.postMessage({ id });\r\n\t\t\t\tif (url) {\r\n\t\t\t\t\tURL.revokeObjectURL(url);\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t);\r\n\t}\r\n\r\n\tstatic isCors(src) {\r\n\t\treturn src.indexOf('//') !== -1 && src.indexOf(window.location.host) === -1;\r\n\t}\r\n\r\n\tstatic isBlob(src) {\r\n\t\treturn src.indexOf('blob:') === 0;\r\n\t}\r\n\r\n}\r\n","export default class LazyCache {\r\n\tstatic get cache() {\r\n\t\tif (!this.cache_) {\r\n\t\t\tthis.cache_ = {};\r\n\t\t}\r\n\t\treturn this.cache_;\r\n\t}\r\n\r\n\tstatic get(src) {\r\n\t\treturn this.cache[src];\r\n\t}\r\n\r\n\tstatic set(src, blob) {\r\n\t\tthis.cache[src] = blob;\r\n\t\tconst keys = Object.keys(this.cache);\r\n\t\tif (keys.length > 100) {\r\n\t\t\tthis.remove(keys[0]);\r\n\t\t}\r\n\t}\r\n\r\n\tstatic remove(src) {\r\n\t\tdelete this.cache[src];\r\n\t}\r\n}\r\n","import { Directive, getContext } from 'rxcomp';\r\nimport { of , Subject } from 'rxjs';\r\nimport { distinctUntilChanged, first, switchMap, takeUntil } from 'rxjs/operators';\r\nimport ImageService from '../image/image.service';\r\nimport IntersectionService from '../intersection/intersection.service';\r\nimport LazyCache from './lazy.cache';\r\n\r\nexport default class LazyDirective extends Directive {\r\n\r\n\tonInit() {\r\n\t\tconst { node } = getContext(this);\r\n\t\tnode.classList.add('lazy');\r\n\t\tthis.input$ = new Subject().pipe(\r\n\t\t\tdistinctUntilChanged(),\r\n\t\t\tswitchMap(input => {\r\n\t\t\t\tconst src = LazyCache.get(input);\r\n\t\t\t\tif (src) {\r\n\t\t\t\t\treturn of(src);\r\n\t\t\t\t}\r\n\t\t\t\tnode.classList.remove('lazyed');\r\n\t\t\t\treturn this.lazy$(input);\r\n\t\t\t}),\r\n\t\t\ttakeUntil(this.unsubscribe$)\r\n\t\t);\r\n\t\tthis.input$.subscribe(src => {\r\n\t\t\tLazyCache.set(this.lazy, src);\r\n\t\t\tnode.setAttribute('src', src);\r\n\t\t\tnode.classList.add('lazyed');\r\n\t\t});\r\n\t}\r\n\r\n\tonChanges() {\r\n\t\tthis.input$.next(this.lazy);\r\n\t}\r\n\r\n\tlazy$(input) {\r\n\t\tconst { node } = getContext(this);\r\n\t\treturn IntersectionService.intersection$(node).pipe(\r\n\t\t\tfirst(),\r\n\t\t\tswitchMap(() => ImageService.load$(input)),\r\n\t\t\ttakeUntil(this.unsubscribe$),\r\n\t\t);\r\n\t}\r\n\r\n}\r\n\r\nLazyDirective.meta = {\r\n\tselector: '[lazy],[[lazy]]',\r\n\tinputs: ['lazy']\r\n};\r\n","import { Component } from 'rxcomp';\r\n\r\nexport default class MainMenuComponent extends Component {\r\n\r\n\tonInit() {\r\n\t\tthis.sticky = false;\r\n\t}\r\n\r\n\tonToggleSticky(event) {\r\n\t\tthis.sticky = !this.sticky;\r\n\t\tconst body = document.querySelector('body');\r\n\t\tthis.sticky ? body.classList.add('fixed') : body.classList.remove('fixed');\r\n\t\tthis.pushChanges();\r\n\t}\r\n\r\n\tonSearch(url, query) {\r\n\t\tconsole.log(query);\r\n\t\twindow.location.href = `${url}?txtSiteSearch=${query}`;\r\n\t}\r\n}\r\n\r\nMainMenuComponent.meta = {\r\n\tselector: '[main-menu]',\r\n};\r\n","import { Component } from 'rxcomp';\r\nimport { takeUntil } from 'rxjs/operators';\r\nimport { FilterMode } from '../filter/filter-item';\r\nimport FilterService from '../filter/filter.service';\r\n\r\nexport default class MediaLibraryComponent extends Component {\r\n\r\n\tonInit() {\r\n\t\tconst items = window.medias || [];\r\n\t\tconst filters = window.filters || {};\r\n\t\tconst initialParams = window.params || {};\r\n\t\tfilters.departments.mode = FilterMode.OR;\r\n\t\tfilters.languages.mode = FilterMode.OR;\r\n\t\tfilters.categories.mode = FilterMode.OR;\r\n\t\tconst filterService = new FilterService(filters, initialParams, (key, filter) => {\r\n\t\t\tswitch (key) {\r\n\t\t\t\tcase 'languages':\r\n\t\t\t\t\tfilter.filter = (item, value) => {\r\n\t\t\t\t\t\treturn item.languages.indexOf(value) !== -1;\r\n\t\t\t\t\t};\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'categories':\r\n\t\t\t\t\tfilter.filter = (item, value) => {\r\n\t\t\t\t\t\treturn item.category === value;\r\n\t\t\t\t\t};\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tfilter.filter = (item, value) => {\r\n\t\t\t\t\t\treturn item.features.indexOf(value) !== -1;\r\n\t\t\t\t\t};\r\n\t\t\t}\r\n\t\t});\r\n\t\tfilterService.items$(items).pipe(\r\n\t\t\ttakeUntil(this.unsubscribe$),\r\n\t\t).subscribe(items => {\r\n\t\t\tthis.items = items;\r\n\t\t\tthis.pushChanges();\r\n\t\t\t// console.log('MediaLibraryComponent.items', items.length);\r\n\t\t});\r\n\r\n\t\tthis.filterService = filterService;\r\n\t\tthis.filters = filterService.filters;\r\n\t}\r\n\r\n}\r\n\r\nMediaLibraryComponent.meta = {\r\n\tselector: '[media-library]',\r\n};\r\n","import { Component, getContext } from 'rxcomp';\r\nimport ModalOutletComponent from '../modal/modal-outlet.component';\r\nimport ModalService from './modal.service';\r\n\r\nexport default class ModalComponent extends Component {\r\n\r\n\tonInit() {\r\n\t\tconst { parentInstance } = getContext(this);\r\n\t\tif (parentInstance instanceof ModalOutletComponent) {\r\n\t\t\tthis.data = parentInstance.modal.data;\r\n\t\t}\r\n\t}\r\n\r\n\tclose() {\r\n\t\tModalService.reject();\r\n\t}\r\n\r\n}\r\n\r\nModalComponent.meta = {\r\n\tselector: '[modal]'\r\n};\r\n","import { BehaviorSubject } from 'rxjs';\r\nimport { STATIC } from '../environment/environment';\r\n\r\nexport default class NaturalFormService {\r\n\r\n\tstatic get values() {\r\n\t\tconst values = {};\r\n\t\tconst form = this.form;\r\n\t\tconst phrase = this.phrase;\r\n\t\tObject.keys(this.form).forEach(key => {\r\n\t\t\tif (phrase.indexOf(`$${key}$`) !== -1) {\r\n\t\t\t\tvalues[key] = form[key].value;\r\n\t\t\t}\r\n\t\t});\r\n\t\treturn values;\r\n\t}\r\n\r\n\tstatic set form(form) {\r\n\t\tthis.form$.next(form);\r\n\t}\r\n\r\n\tstatic get form() {\r\n\t\treturn this.form$.getValue();\r\n\t}\r\n\r\n\tstatic get phrase() {\r\n\t\tconst form = this.form;\r\n\t\t// console.log('NaturalFormService.set phrase form', form);\r\n\t\tlet action = form.action.options.find(x => x.id === form.action.value);\r\n\t\tif (!action) {\r\n\t\t\taction = form.action.options[0];\r\n\t\t}\r\n\t\treturn action.phrase;\r\n\t}\r\n\r\n\tstatic get title() {\r\n\t\tlet phrase = this.phrase;\r\n\t\tconst form = this.form;\r\n\t\tObject.keys(form).forEach(key => {\r\n\t\t\tlet label;\r\n\t\t\tconst filter = this.form[key];\r\n\t\t\tlet value = filter.value;\r\n\t\t\tconst items = filter.options || [];\r\n\t\t\tif (filter.multiple) {\r\n\t\t\t\tvalue = value || [];\r\n\t\t\t\tif (value.length) {\r\n\t\t\t\t\tlabel = value.map(v => {\r\n\t\t\t\t\t\tconst item = items.find(x => x.id === v || x.name === v);\r\n\t\t\t\t\t\treturn item ? item.name : '';\r\n\t\t\t\t\t}).join(', ');\r\n\t\t\t\t} else {\r\n\t\t\t\t\tlabel = items.length ? '...' : filter.label;\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tconst item = items.find(x => x.id === value || x.name === value);\r\n\t\t\t\tif (item) {\r\n\t\t\t\t\tlabel = item.name;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tlabel = items.length ? '...' : filter.label;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tphrase = phrase.replace(`$${key}$`, label);\r\n\t\t});\r\n\t\treturn phrase;\r\n\t}\r\n\r\n\tstatic get clubProfileUrl() {\r\n\t\treturn this.form.club.profileUrl;\r\n\t}\r\n\r\n\tstatic get clubModalUrl() {\r\n\t\treturn STATIC ? '/tiemme-com/club-modal.html' : this.form.club.modalUrl;\r\n\t}\r\n\r\n\tstatic next(form) {\r\n\t\tthis.form = form || this.form; // setter & getter\r\n\t}\r\n\r\n\tstatic getDefaultValue() {\r\n\t\tconst form = window.naturalForm || {};\r\n\t\tObject.keys(form).forEach(key => {\r\n\t\t\tconst filter = form[key];\r\n\t\t\tswitch (key) {\r\n\t\t\t\tcase 'club':\r\n\t\t\t\tcase 'newsletter':\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tconst firstId = filter.options[0].id;\r\n\t\t\t\t\tfilter.value = filter.multiple ? [firstId] : firstId;\r\n\t\t\t}\r\n\t\t});\r\n\t\treturn form;\r\n\t}\r\n\r\n\tstatic get disabled() {\r\n\t\treturn false; // !!! return false until getDefaultValue set initial value\r\n\t\tlet disabled = false;\r\n\t\tconst values = this.values;\r\n\t\tObject.keys(values).forEach(key => {\r\n\t\t\tswitch (key) {\r\n\t\t\t\tcase 'club':\r\n\t\t\t\tcase 'newsletter':\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tdisabled = disabled || values[key] == undefined;\r\n\t\t\t}\r\n\t\t});\r\n\t\treturn disabled;\r\n\t}\r\n\r\n}\r\n\r\nNaturalFormService.form$ = new BehaviorSubject(NaturalFormService.getDefaultValue()); // !!! static\r\n","import { Component } from 'rxcomp';\r\nimport { FormControl, FormGroup, Validators } from 'rxcomp-form';\r\nimport { takeUntil } from 'rxjs/operators';\r\nimport HttpService from '../http/http.service';\r\nimport NaturalFormService from './natural-form.service';\r\n\r\nexport default class NaturalFormContactComponent extends Component {\r\n\r\n\tonInit() {\r\n\t\tconst values = NaturalFormService.values;\r\n\t\tthis.title = NaturalFormService.title;\r\n\r\n\t\tconst data = window.data || {\r\n\t\t\troles: [],\r\n\t\t\tinterests: [],\r\n\t\t\tcountries: [],\r\n\t\t\tprovinces: []\r\n\t\t};\r\n\r\n\t\tconst form = new FormGroup({\r\n\t\t\trole: new FormControl(values.role, Validators.RequiredValidator()),\r\n\t\t\tinterests: new FormControl(values.interest, Validators.RequiredValidator()),\r\n\t\t\t//\r\n\t\t\tfirstName: new FormControl(null, Validators.RequiredValidator()),\r\n\t\t\tlastName: new FormControl(null, Validators.RequiredValidator()),\r\n\t\t\temail: new FormControl(null, [Validators.RequiredValidator(), Validators.EmailValidator()]),\r\n\t\t\tcompany: new FormControl(null, Validators.RequiredValidator()),\r\n\t\t\tcountry: new FormControl(null, Validators.RequiredValidator()),\r\n\t\t\tprovince: new FormControl(null, Validators.RequiredValidator()),\r\n\t\t\tmessage: null,\r\n\t\t\tprivacy: new FormControl(null, Validators.RequiredTrueValidator()),\r\n\t\t\tnewsletter: values.newsletter === 2 ? true : false,\r\n\t\t\tscope: window.location.hostname,\r\n\t\t\tcheckRequest: window.antiforgery,\r\n\t\t\tcheckField: '',\r\n\t\t});\r\n\r\n\t\tconst controls = form.controls;\r\n\t\tcontrols.role.options = data.roles;\r\n\t\tcontrols.interests.options = data.interests;\r\n\t\tcontrols.country.options = data.countries;\r\n\t\tcontrols.province.options = [];\r\n\t\tthis.controls = controls;\r\n\r\n\t\tform.changes$.pipe(\r\n\t\t\ttakeUntil(this.unsubscribe$)\r\n\t\t).subscribe((changes) => {\r\n\t\t\t// console.log('NaturalFormContactComponent.form.changes$', changes, form.valid);\r\n\t\t\tthis.countryId = changes.country;\r\n\t\t\tthis.pushChanges();\r\n\t\t});\r\n\r\n\t\tthis.data = data;\r\n\t\tthis.form = form;\r\n\t\tthis.error = null;\r\n\t\tthis.success = false;\r\n\t}\r\n\r\n\tonChanges(changes) {}\r\n\r\n\tset countryId(countryId) {\r\n\t\tif (this.countryId_ !== countryId) {\r\n\t\t\t// console.log('NaturalFormContactComponent.set countryId', countryId);\r\n\t\t\tthis.countryId_ = countryId;\r\n\t\t\tconst provinces = this.data.provinces.filter(province => {\r\n\t\t\t\treturn String(province.idstato) === String(countryId);\r\n\t\t\t});\r\n\t\t\tthis.controls.province.options = provinces;\r\n\t\t\tthis.controls.province.hidden = provinces.length === 0;\r\n\t\t\tif (!provinces.find(x => x.id === this.controls.province.value)) {\r\n\t\t\t\tthis.controls.province.value = null;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\ttest() {\r\n\t\tthis.form.patch({\r\n\t\t\tfirstName: 'Jhon',\r\n\t\t\tlastName: 'Appleseed',\r\n\t\t\temail: 'jhonappleseed@gmail.com',\r\n\t\t\tcompany: 'Websolute',\r\n\t\t\trole: this.controls.role.options[0].id,\r\n\t\t\tinterests: this.controls.interests.options[0].id,\r\n\t\t\tcountry: this.controls.country.options[0].id,\r\n\t\t\tprivacy: true,\r\n\t\t\tcheckRequest: window.antiforgery,\r\n\t\t\tcheckField: ''\r\n\t\t});\r\n\t}\r\n\r\n\treset() {\r\n\t\tthis.form.reset();\r\n\t}\r\n\r\n\tonSubmit() {\r\n\t\t// console.log('NaturalFormContactComponent.onSubmit', 'form.valid', valid);\r\n\t\tif (this.form.valid) {\r\n\t\t\t// console.log('NaturalFormContactComponent.onSubmit', this.form.value);\r\n\t\t\tthis.form.submitted = true;\r\n\t\t\t//HttpService.post$('/WS/wsUsers.asmx/Contact', { data: this.form.value })\r\n\t\t\tHttpService.post$('/api/users/Contact', this.form.value)\r\n\t\t\t\t.subscribe(response => {\r\n\t\t\t\t\tconsole.log('NaturalFormContactComponent.onSubmit', response);\r\n\t\t\t\t\tthis.success = true;\r\n\t\t\t\t\tthis.form.reset();\r\n\t\t\t\t\t// this.pushChanges();\r\n\t\t\t\t\tdataLayer.push({\r\n\t\t\t\t\t\t'event': 'formSubmission',\r\n\t\t\t\t\t\t'form type': 'Contatti Tiemme'\r\n\t\t\t\t\t});\r\n\t\t\t\t}, error => {\r\n\t\t\t\t\tconsole.log('NaturalFormContactComponent.error', error);\r\n\t\t\t\t\tthis.error = error;\r\n\t\t\t\t\tthis.pushChanges();\r\n\t\t\t\t});\r\n\t\t} else {\r\n\t\t\tthis.form.touched = true;\r\n\t\t}\r\n\t}\r\n\r\n\tonBack() {\r\n\t\tthis.back.next();\r\n\t}\r\n\r\n}\r\n\r\nNaturalFormContactComponent.meta = {\r\n\tselector: '[natural-form-contact]',\r\n\toutputs: ['back'],\r\n};\r\n","import { Component, getContext } from 'rxcomp';\r\nimport { takeUntil } from 'rxjs/operators';\r\nimport DropdownDirective from '../dropdown/dropdown.directive';\r\nimport KeyboardService from '../keyboard/keyboard.service';\r\n\r\nexport default class NaturalFormControlComponent extends Component {\r\n\r\n\tonInit() {\r\n\t\t// console.log('NaturalFormControlComponent.onInit');\r\n\t\tthis.label = 'label';\r\n\t\tthis.labels = window.labels || {};\r\n\t\tthis.dropped = false;\r\n\t\tthis.dropdownId = DropdownDirective.nextId();\r\n\t\tKeyboardService.typing$().pipe(\r\n\t\t\ttakeUntil(this.unsubscribe$)\r\n\t\t).subscribe(word => {\r\n\t\t\tthis.scrollToWord(word);\r\n\t\t});\r\n\t\t/*\r\n\t\tKeyboardService.key$().pipe(\r\n\t\t\ttakeUntil(this.unsubscribe$)\r\n\t\t).subscribe(key => {\r\n\t\t\tthis.scrollToKey(key);\r\n\t\t});\r\n\t\t*/\r\n\t}\r\n\r\n\t/*\r\n\tonChanges() {\r\n\t\tif (!this.filter.value) {\r\n\t\t\tconst firstId = this.filter.options[0].id;\r\n\t\t\tthis.filter.value = this.filter.multiple ? [firstId] : firstId;\r\n\t\t}\r\n\t}\r\n\t*/\r\n\r\n\tscrollToWord(word) {\r\n\t\tconst items = this.filter.options || [];\r\n\t\tlet index = -1;\r\n\t\tfor (let i = 0; i < items.length; i++) {\r\n\t\t\tconst x = items[i];\r\n\t\t\tif (x.name.toLowerCase().indexOf(word.toLowerCase()) === 0) {\r\n\t\t\t\tindex = i;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (index !== -1) {\r\n\t\t\tconst { node } = getContext(this);\r\n\t\t\tconst dropdown = node.querySelector('.dropdown');\r\n\t\t\tconst navDropdown = node.querySelector('.nav--dropdown');\r\n\t\t\tconst item = navDropdown.children[index];\r\n\t\t\tdropdown.scroll(0, item.offsetTop);\r\n\t\t}\r\n\t}\r\n\r\n\tsetOption(item) {\r\n\t\t// console.log('setOption', item);\r\n\t\tif (this.filter.multiple) {\r\n\t\t\tthis.filter.value = this.filter.value || [];\r\n\t\t\tconst index = this.filter.value.indexOf(item.id);\r\n\t\t\tif (index !== -1) {\r\n\t\t\t\tif (this.filter.value.length > 1) {\r\n\t\t\t\t\tthis.filter.value.splice(index, 1);\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tthis.filter.value.push(item.id);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tthis.filter.value = item.id;\r\n\t\t\tDropdownDirective.dropdown$.next(null);\r\n\t\t}\r\n\t\tthis.pushChanges();\r\n\t\tthis.change.next(this.filter); // !!! for last, it may cause a destroy\r\n\t}\r\n\r\n\thasOption(item) {\r\n\t\tif (this.filter.multiple) {\r\n\t\t\tconst values = this.filter.value || [];\r\n\t\t\treturn values.indexOf(item.id) !== -1;\r\n\t\t} else {\r\n\t\t\treturn this.filter.value === item.id;\r\n\t\t}\r\n\t}\r\n\r\n\tgetLabel() {\r\n\t\tlet value = this.filter.value;\r\n\t\tconst items = this.filter.options || [];\r\n\t\t// console.log(value, this.filter);\r\n\t\tif (this.filter.multiple) {\r\n\t\t\tvalue = value || [];\r\n\t\t\tif (value.length) {\r\n\t\t\t\treturn value.map(v => {\r\n\t\t\t\t\tconst item = items.find(x => x.id === v || x.name === v);\r\n\t\t\t\t\treturn item ? item.name : '';\r\n\t\t\t\t}).join(', ');\r\n\t\t\t} else {\r\n\t\t\t\treturn '...'; // this.labels.select;\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tconst item = items.find(x => x.id === value || x.name === value);\r\n\t\t\tif (item) {\r\n\t\t\t\treturn item.name;\r\n\t\t\t} else {\r\n\t\t\t\treturn '...'; // this.labels.select;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tonDropped($event) {\r\n\t\tthis.dropped = $event === this.dropdownId;\r\n\t\tconst { node } = getContext(this);\r\n\t\tconst dropdown = node.querySelector('.dropdown');\r\n\t\tif (dropdown) {\r\n\t\t\tdropdown.style.cssText = '';\r\n\t\t\tconst rect = dropdown.getBoundingClientRect();\r\n\t\t\tif (rect.left + rect.width > window.innerWidth - 15) {\r\n\t\t\t\tdropdown.style.cssText = `transform: translateX(${window.innerWidth - 15 - (rect.left + rect.width)}px);`;\r\n\t\t\t}\r\n\t\t\t// console.log(rect.left + rect.width, window.innerWidth - 15);\r\n\t\t}\r\n\t}\r\n}\r\n\r\nNaturalFormControlComponent.meta = {\r\n\tselector: '[natural-form-control]',\r\n\tinputs: ['filter', 'label'],\r\n\toutputs: ['change'],\r\n\ttemplate: /* html */ `\r\n\t\t<span [dropdown]=\"dropdownId\" (dropped)=\"onDropped($event)\">\r\n\t\t\t<span class=\"label\" [innerHTML]=\"getLabel()\"></span>\r\n\t\t\t<svg class=\"icon icon--caret-right\"><use xlink:href=\"#caret-right\"></use></svg>\r\n\t\t</span>\r\n\t\t<div class=\"dropdown\" [dropdown-item]=\"dropdownId\">\r\n\t\t\t<div class=\"category\" [innerHTML]=\"label\"></div>\r\n\t\t\t<ul class=\"nav--dropdown\" [class]=\"{ multiple: filter.multiple }\">\r\n\t\t\t\t<li *for=\"let item of filter.options\" (click)=\"setOption(item)\"><span [class]=\"{ active: hasOption(item) }\" [innerHTML]=\"item.name\"></span></li>\r\n\t\t\t</ul>\r\n\t\t</div>\r\n\t`\r\n};\r\n","import { Component } from 'rxcomp';\r\nimport { FormControl, FormGroup, Validators } from 'rxcomp-form';\r\nimport { takeUntil } from 'rxjs/operators';\r\nimport HttpService from '../http/http.service';\r\nimport NaturalFormService from './natural-form.service';\r\n\r\nexport default class NaturalFormNewsletterComponent extends Component {\r\n\r\n\tonInit() {\r\n\t\tconst values = NaturalFormService.values;\r\n\t\tthis.title = NaturalFormService.title;\r\n\r\n\t\tconst data = window.data || {\r\n\t\t\troles: [],\r\n\t\t\tinterests: [],\r\n\t\t\tcountries: [],\r\n\t\t\tprovinces: []\r\n\t\t};\r\n\r\n\t\tconst form = new FormGroup({\r\n\t\t\trole: new FormControl(values.role, Validators.RequiredValidator()),\r\n\t\t\tinterests: new FormControl(values.interest, Validators.RequiredValidator()),\r\n\t\t\t//\r\n\t\t\tfirstName: new FormControl(null, Validators.RequiredValidator()),\r\n\t\t\tlastName: new FormControl(null, Validators.RequiredValidator()),\r\n\t\t\temail: new FormControl(null, [Validators.RequiredValidator(), Validators.EmailValidator()]),\r\n\t\t\tcompany: new FormControl(null, Validators.RequiredValidator()),\r\n\t\t\tprivacy: new FormControl(null, Validators.RequiredTrueValidator()),\r\n\t\t\tnewsletter: new FormControl(true, Validators.RequiredTrueValidator()),\r\n\t\t\tcheckRequest: window.antiforgery,\r\n\t\t\tcheckField: '',\r\n\t\t});\r\n\r\n\t\tconst controls = form.controls;\r\n\t\tcontrols.role.options = data.roles;\r\n\t\tcontrols.interests.options = data.interests;\r\n\t\tthis.controls = controls;\r\n\r\n\t\tform.changes$.pipe(\r\n\t\t\ttakeUntil(this.unsubscribe$)\r\n\t\t).subscribe((changes) => {\r\n\t\t\t// console.log('NaturalFormNewsletterComponent.form.changes$', changes, form.valid);\r\n\t\t\tthis.pushChanges();\r\n\t\t});\r\n\r\n\t\tthis.data = data;\r\n\t\tthis.form = form;\r\n\t\tthis.error = null;\r\n\t\tthis.success = false;\r\n\t}\r\n\r\n\ttest() {\r\n\t\tthis.form.patch({\r\n\t\t\tfirstName: 'Jhon',\r\n\t\t\tlastName: 'Appleseed',\r\n\t\t\temail: 'jhonappleseed@gmail.com',\r\n\t\t\tcompany: 'Websolute',\r\n\t\t\trole: this.controls.role.options[0].id,\r\n\t\t\tinterests: this.controls.interests.options[0].id,\r\n\t\t\tprivacy: true,\r\n\t\t\tcheckRequest: window.antiforgery,\r\n\t\t\tcheckField: ''\r\n\t\t});\r\n\t}\r\n\r\n\treset() {\r\n\t\tthis.form.reset();\r\n\t}\r\n\r\n\tonSubmit() {\r\n\t\t// console.log('NaturalFormNewsletterComponent.onSubmit', 'form.valid', valid);\r\n\t\tif (this.form.valid) {\r\n\t\t\t// console.log('NaturalFormNewsletterComponent.onSubmit', this.form.value);\r\n\t\t\tthis.form.submitted = true;\r\n\t\t\t//HttpService.post$('/WS/wsUsers.asmx/Newsletter', { data: this.form.value })\r\n\t\t\tHttpService.post$('/api/users/Newsletter', this.form.value)\r\n\t\t\t\t.subscribe(response => {\r\n\t\t\t\t\tconsole.log('NaturalFormNewsletterComponent.onSubmit', response);\r\n\t\t\t\t\tthis.success = true;\r\n\t\t\t\t\tthis.form.reset();\r\n\t\t\t\t\t// this.pushChanges();\r\n\t\t\t\t\tdataLayer.push({\r\n\t\t\t\t\t\t'event': 'formSubmission',\r\n\t\t\t\t\t\t'form type': 'Iscrizione alla Newsletter'\r\n\t\t\t\t\t});\r\n\t\t\t\t}, error => {\r\n\t\t\t\t\tconsole.log('NaturalFormNewsletterComponent.error', error);\r\n\t\t\t\t\tthis.error = error;\r\n\t\t\t\t\tthis.pushChanges();\r\n\t\t\t\t});\r\n\t\t} else {\r\n\t\t\tthis.form.touched = true;\r\n\t\t}\r\n\t}\r\n\r\n\tonBack() {\r\n\t\tthis.back.next();\r\n\t}\r\n\r\n}\r\n\r\nNaturalFormNewsletterComponent.meta = {\r\n\tselector: '[natural-form-newsletter]',\r\n\toutputs: ['back'],\r\n};\r\n","import { Component } from 'rxcomp';\r\nimport { FormControl, FormGroup, Validators } from 'rxcomp-form';\r\nimport { takeUntil } from 'rxjs/operators';\r\nimport HttpService from '../http/http.service';\r\nimport NaturalFormService from './natural-form.service';\r\n\r\nexport default class NaturalFormRequestInfoComponent extends Component {\r\n\r\n\tonInit() {\r\n\t\tconst values = NaturalFormService.values;\r\n\t\tthis.title = NaturalFormService.title;\r\n\r\n\t\tconst data = window.data || {\r\n\t\t\troles: [],\r\n\t\t\tinterests: [],\r\n\t\t\tcountries: [],\r\n\t\t\tprovinces: []\r\n\t\t};\r\n\r\n\t\tconst form = new FormGroup({\r\n\t\t\trole: new FormControl(values.role, Validators.RequiredValidator()),\r\n\t\t\tinterests: new FormControl(values.interest, Validators.RequiredValidator()),\r\n\t\t\t//\r\n\t\t\tfirstName: new FormControl(null, Validators.RequiredValidator()),\r\n\t\t\tlastName: new FormControl(null, Validators.RequiredValidator()),\r\n\t\t\temail: new FormControl(null, [Validators.RequiredValidator(), Validators.EmailValidator()]),\r\n\t\t\tcompany: new FormControl(null, Validators.RequiredValidator()),\r\n\t\t\tcountry: new FormControl(null, Validators.RequiredValidator()),\r\n\t\t\tprovince: new FormControl(null, Validators.RequiredValidator()),\r\n\t\t\tmessage: null,\r\n\t\t\tprivacy: new FormControl(null, Validators.RequiredTrueValidator()),\r\n\t\t\tnewsletter: values.newsletter === 2 ? true : false,\r\n\t\t\tscope: window.location.hostname,\r\n\t\t\tcheckRequest: window.antiforgery,\r\n\t\t\tcheckField: '',\r\n\t\t});\r\n\r\n\t\tconst controls = form.controls;\r\n\t\tcontrols.role.options = data.roles;\r\n\t\tcontrols.interests.options = data.interests;\r\n\t\tcontrols.country.options = data.countries;\r\n\t\tcontrols.province.options = [];\r\n\t\tthis.controls = controls;\r\n\r\n\t\tform.changes$.pipe(\r\n\t\t\ttakeUntil(this.unsubscribe$)\r\n\t\t).subscribe((changes) => {\r\n\t\t\t// console.log('NaturalFormRequestInfoComponent.form.changes$', changes, form.valid);\r\n\t\t\tthis.countryId = changes.country;\r\n\t\t\tthis.pushChanges();\r\n\t\t});\r\n\r\n\t\tthis.data = data;\r\n\t\tthis.form = form;\r\n\t\tthis.error = null;\r\n\t\tthis.success = false;\r\n\t}\r\n\r\n\tonChanges(changes) {}\r\n\r\n\tset countryId(countryId) {\r\n\t\tif (this.countryId_ !== countryId) {\r\n\t\t\t// console.log('NaturalFormRequestInfoComponent.set countryId', countryId);\r\n\t\t\tthis.countryId_ = countryId;\r\n\t\t\tconst provinces = this.data.provinces.filter(province => {\r\n\t\t\t\treturn String(province.idstato) === String(countryId);\r\n\t\t\t});\r\n\t\t\tthis.controls.province.options = provinces;\r\n\t\t\tthis.controls.province.hidden = provinces.length === 0;\r\n\t\t\tif (!provinces.find(x => x.id === this.controls.province.value)) {\r\n\t\t\t\tthis.controls.province.value = null;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\ttest() {\r\n\t\tthis.form.patch({\r\n\t\t\tfirstName: 'Jhon',\r\n\t\t\tlastName: 'Appleseed',\r\n\t\t\temail: 'jhonappleseed@gmail.com',\r\n\t\t\tcompany: 'Websolute',\r\n\t\t\trole: this.controls.role.options[0].id,\r\n\t\t\tinterests: this.controls.interests.options[0].id,\r\n\t\t\tcountry: this.controls.country.options[0].id,\r\n\t\t\tprivacy: true,\r\n\t\t\tcheckRequest: window.antiforgery,\r\n\t\t\tcheckField: ''\r\n\t\t});\r\n\t}\r\n\r\n\treset() {\r\n\t\tthis.form.reset();\r\n\t}\r\n\r\n\tonSubmit() {\r\n\t\t// console.log('NaturalFormRequestInfoComponent.onSubmit', 'form.valid', valid);\r\n\t\tif (this.form.valid) {\r\n\t\t\t// console.log('NaturalFormRequestInfoComponent.onSubmit', this.form.value);\r\n\t\t\tthis.form.submitted = true;\r\n\t\t\t//HttpService.post$('/WS/wsUsers.asmx/Contact', { data: this.form.value })\r\n\t\t\tHttpService.post$('/api/users/RequestInfo', this.form.value)\r\n\t\t\t\t.subscribe(response => {\r\n\t\t\t\t\tconsole.log('NaturalFormRequestInfoComponent.onSubmit', response);\r\n\t\t\t\t\tthis.form.reset();\r\n\t\t\t\t\tthis.success = true;\r\n\t\t\t\t\tdataLayer.push({\r\n\t\t\t\t\t\t'event': 'formSubmission',\r\n\t\t\t\t\t\t'form type': 'Contatti Tiemme'\r\n\t\t\t\t\t});\r\n\t\t\t\t}, error => {\r\n\t\t\t\t\tconsole.log('NaturalFormRequestInfoComponent.error', error);\r\n\t\t\t\t\tthis.error = error;\r\n\t\t\t\t\tthis.pushChanges();\r\n\t\t\t\t});\r\n\t\t} else {\r\n\t\t\tthis.form.touched = true;\r\n\t\t}\r\n\t}\r\n\r\n\tonBack() {\r\n\t\tthis.back.next();\r\n\t}\r\n\r\n}\r\n\r\nNaturalFormRequestInfoComponent.meta = {\r\n\tselector: '[natural-form-request-info]',\r\n\toutputs: ['back'],\r\n};\r\n","import { Component, getContext } from 'rxcomp';\r\nimport { takeUntil } from 'rxjs/operators';\r\nimport NaturalFormService from './natural-form.service';\r\n\r\nexport default class NaturalFormSearchComponent extends Component {\r\n\r\n\tonInit() {\r\n\t\t// console.log('NaturalFormSearchComponent.onInit');\r\n\t\tconst { node } = getContext(this);\r\n\t\tnode.classList.add('natural-form-search');\r\n\t\tNaturalFormService.form$.pipe(\r\n\t\t\ttakeUntil(this.unsubscribe$)\r\n\t\t).subscribe(form => {\r\n\t\t\tthis.naturalForm = form;\r\n\t\t\tthis.phrase = NaturalFormService.phrase;\r\n\t\t});\r\n\t}\r\n\r\n\tset phrase(phrase) {\r\n\t\tif (this.phrase_ !== phrase) {\r\n\t\t\tthis.phrase_ = phrase;\r\n\t\t\tconst { node, module } = getContext(this);\r\n\t\t\tconst contentNode = node.querySelector('.content');\r\n\t\t\tif (this.instances_) {\r\n\t\t\t\tmodule.remove(contentNode);\r\n\t\t\t}\r\n\t\t\tthis.instances_ = [];\r\n\t\t\t// const form = NaturalFormService.form;\r\n\t\t\t// console.log('NaturalFormSearchComponent.initControls', form);\r\n\t\t\tlet html = phrase;\r\n\t\t\tconst keys = Object.keys(this.naturalForm);\r\n\t\t\tkeys.forEach(key => {\r\n\t\t\t\t// console.log(key);\r\n\t\t\t\thtml = html.replace(`$${key}$`, () => {\r\n\t\t\t\t\tconst item = this.naturalForm[key];\r\n\t\t\t\t\tif (item.options) {\r\n\t\t\t\t\t\treturn /* html */ `\r\n\t\t\t\t\t\t\t<span class=\"natural-form__control\" natural-form-control [filter]=\"naturalForm.${key}\" [label]=\"naturalForm.${key}.label\" (change)=\"onNaturalForm($event)\"></span>\r\n\t\t\t\t\t\t`;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\treturn /* html */ `<button type=\"button\" class=\"btn--club-form\" (click)=\"onClub($event)\"><span>Tiemme Club</span></button>`;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t\t// console.log('MoodboardSearchDirective', html);\r\n\t\t\tcontentNode.innerHTML = html;\r\n\t\t\tArray.from(contentNode.childNodes).forEach(node => {\r\n\t\t\t\tthis.instances_ = this.instances_.concat(module.compile(node, this));\r\n\t\t\t});\r\n\t\t\t/*\r\n\t\t\tconst hasFilter = Object.keys(scope.naturalForm).map(x => scope.naturalForm[x]).find(x => x.value !== null) !== undefined;\r\n\t\t\tif (!hasFilter) {\r\n\t\t\t\tthis.animateUnderlines_(node);\r\n\t\t\t}\r\n\t\t\tscope.animateOff_ = () => {\r\n\t\t\t\tthis.animateOff_(node);\r\n\t\t\t};\r\n\t\t\t*/\r\n\t\t}\r\n\t}\r\n\r\n\tonNaturalForm(event) {\r\n\t\tconst form = NaturalFormService.next();\r\n\t\tthis.change.next(form);\r\n\t}\r\n\r\n\tonClub(event) {\r\n\t\tthis.club.next(event);\r\n\t}\r\n\r\n\tanimateUnderlines_(node) {\r\n\t\tthis.animated = true;\r\n\t\tconst values = [...node.querySelectorAll('.moodboard__underline')];\r\n\t\tvalues.forEach(x => {\r\n\t\t\tgsap.set(x, { transformOrigin: '0 50%', scaleX: 0 });\r\n\t\t});\r\n\t\tlet i = -1;\r\n\t\tconst animate = () => {\r\n\t\t\ti++;\r\n\t\t\ti = i % values.length;\r\n\t\t\tconst u = values[i];\r\n\t\t\tgsap.set(u, { transformOrigin: '0 50%', scaleX: 0 });\r\n\t\t\tgsap.to(u, 0.50, {\r\n\t\t\t\tscaleX: 1,\r\n\t\t\t\ttransformOrigin: '0 50%',\r\n\t\t\t\tdelay: 0,\r\n\t\t\t\tease: Power3.easeInOut,\r\n\t\t\t\toverwrite: 'all',\r\n\t\t\t\tonComplete: () => {\r\n\t\t\t\t\tgsap.set(u, { transformOrigin: '100% 50%', scaleX: 1 });\r\n\t\t\t\t\tgsap.to(u, 0.50, {\r\n\t\t\t\t\t\tscaleX: 0,\r\n\t\t\t\t\t\ttransformOrigin: '100% 50%',\r\n\t\t\t\t\t\tdelay: 1.0,\r\n\t\t\t\t\t\tease: Power3.easeInOut,\r\n\t\t\t\t\t\toverwrite: 'all',\r\n\t\t\t\t\t\tonComplete: () => {\r\n\t\t\t\t\t\t\tanimate();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t};\r\n\t\tanimate();\r\n\t}\r\n\r\n\tanimateOff_(node) {\r\n\t\tif (this.animated) {\r\n\t\t\tthis.animated = false;\r\n\t\t\t// console.log('animateOff_');\r\n\t\t\t// gsap.killAll();\r\n\t\t\tconst values = [...node.querySelectorAll('.moodboard__underline')];\r\n\t\t\tgsap.set(values, { transformOrigin: '0 50%', scaleX: 0 });\r\n\t\t\tgsap.to(values, 0.50, {\r\n\t\t\t\tscaleX: 1,\r\n\t\t\t\ttransformOrigin: '0 50%',\r\n\t\t\t\tdelay: 0,\r\n\t\t\t\tease: Power3.easeInOut,\r\n\t\t\t\toverwrite: 'all',\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n}\r\n\r\nNaturalFormSearchComponent.meta = {\r\n\tselector: '[natural-form-search]',\r\n\tinputs: ['naturalForm'],\r\n\toutputs: ['change', 'club']\r\n};\r\n","import { Component } from 'rxcomp';\r\nimport { FormControl, FormGroup, FormValidator, Validators } from 'rxcomp-form';\r\nimport { takeUntil } from 'rxjs/operators';\r\nimport UserService from '../user/user.service';\r\nimport NaturalFormService from './natural-form.service';\r\n\r\nexport default class NaturalFormSignupComponent extends Component {\r\n\r\n\tonInit() {\r\n\t\tconst values = NaturalFormService.values;\r\n\t\tthis.title = NaturalFormService.title;\r\n\r\n\t\tconst data = window.data || {\r\n\t\t\troles: [],\r\n\t\t\tcountries: [],\r\n\t\t\tprovinces: [],\r\n\t\t}\r\n\r\n\t\tconst form = new FormGroup({\r\n\t\t\trole: new FormControl(values.role, Validators.RequiredValidator()),\r\n\t\t\t//\r\n\t\t\tfirstName: new FormControl(null, Validators.RequiredValidator()),\r\n\t\t\tlastName: new FormControl(null, Validators.RequiredValidator()),\r\n\t\t\tcompany: new FormControl(null, Validators.RequiredValidator()),\r\n\t\t\tcountry: new FormControl(null, Validators.RequiredValidator()),\r\n\t\t\tprovince: new FormControl(null, Validators.RequiredValidator()),\r\n\t\t\taddress: new FormControl(null, Validators.RequiredValidator()),\r\n\t\t\tzipCode: new FormControl(null, Validators.RequiredValidator()),\r\n\t\t\tcity: new FormControl(null, Validators.RequiredValidator()),\r\n\t\t\ttelephone: new FormControl(null, Validators.RequiredValidator()),\r\n\t\t\tfax: null,\r\n\t\t\temail: new FormControl(null, [Validators.RequiredValidator(), Validators.EmailValidator()]),\r\n\t\t\t/*\r\n\t\t\t// password autogenerata\r\n\t\t\tusername: new FormControl(null, [Validators.RequiredValidator()]),\r\n\t\t\tpassword: new FormControl(null, [Validators.RequiredValidator()]),\r\n\t\t\tpasswordConfirm: new FormControl(null, [Validators.RequiredValidator(), this.MatchValidator('password')]),\r\n\t\t\t*/\r\n\t\t\tprivacy: new FormControl(null, Validators.RequiredTrueValidator()),\r\n\t\t\tnewsletter: values.newsletter === 2 ? true : false,\r\n\t\t\tcheckRequest: window.antiforgery,\r\n\t\t\tcheckField: ''\r\n\t\t});\r\n\r\n\t\tconst controls = form.controls;\r\n\t\tcontrols.role.options = data.roles;\r\n\t\tcontrols.country.options = data.countries;\r\n\t\tcontrols.province.options = [];\r\n\t\tthis.controls = controls;\r\n\r\n\t\tform.changes$.pipe(\r\n\t\t\ttakeUntil(this.unsubscribe$)\r\n\t\t).subscribe((changes) => {\r\n\t\t\t// console.log('NaturalFormSignupComponent.form.changes$', changes, form.valid);\r\n\t\t\tthis.countryId = changes.country;\r\n\t\t\tthis.pushChanges();\r\n\t\t});\r\n\r\n\t\tthis.data = data;\r\n\t\tthis.form = form;\r\n\t\tthis.error = null;\r\n\t\tthis.success = false;\r\n\t}\r\n\r\n\tset countryId(countryId) {\r\n\t\tif (this.countryId_ !== countryId) {\r\n\t\t\t// console.log('NaturalFormSignupComponent.set countryId', countryId);\r\n\t\t\tthis.countryId_ = countryId;\r\n\t\t\tconst provinces = this.data.provinces.filter(province => {\r\n\t\t\t\treturn String(province.idstato) === String(countryId);\r\n\t\t\t});\r\n\t\t\tthis.controls.province.options = provinces;\r\n\t\t\tthis.controls.province.hidden = provinces.length === 0;\r\n\t\t\tif (!provinces.find(x => x.id === this.controls.province.value)) {\r\n\t\t\t\tthis.controls.province.value = null;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\ttest() {\r\n\t\tthis.form.patch({\r\n\t\t\tfirstName: 'Jhon',\r\n\t\t\tlastName: 'Appleseed',\r\n\t\t\tcompany: 'Websolute',\r\n\t\t\trole: this.controls.role.options[0].id,\r\n\t\t\tcountry: this.controls.country.options[0].id,\r\n\t\t\taddress: 'Strada della Campanara',\r\n\t\t\tzipCode: '15',\r\n\t\t\tcity: 'Pesaro',\r\n\t\t\ttelephone: '00390721411112',\r\n\t\t\temail: 'jhonappleseed@gmail.com',\r\n\t\t\t/*\r\n\t\t\tusername: 'username',\r\n\t\t\tpassword: 'password',\r\n\t\t\tpasswordConfirm: 'password',\r\n\t\t\t*/\r\n\t\t\tprivacy: true,\r\n\t\t\tcheckRequest: window.antiforgery,\r\n\t\t\tcheckField: ''\r\n\t\t});\r\n\t}\r\n\r\n\tMatchValidator(fieldName) {\r\n\t\treturn new FormValidator((value) => {\r\n\t\t\tconst field = this.form ? this.form.get(fieldName) : null;\r\n\t\t\tif (!value || !field) {\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t\treturn value !== field.value ? { match: { value: value, match: field.value } } : null;\r\n\t\t});\r\n\t}\r\n\r\n\treset() {\r\n\t\tthis.form.reset();\r\n\t}\r\n\r\n\tonSubmit() {\r\n\t\t// console.log('NaturalFormSignupComponent.onSubmit', 'form.valid', valid);\r\n\t\tif (this.form.valid) {\r\n\t\t\t// console.log('NaturalFormSignupComponent.onSubmit', this.form.value);\r\n\t\t\tthis.form.submitted = true;\r\n\t\t\t// HttpService.post$('/api/users/Register', this.form.value)\r\n\t\t\tUserService.register$(this.form.value)\r\n\t\t\t\t.subscribe(response => {\r\n\t\t\t\t\tconsole.log('NaturalFormSignupComponent.onSubmit', response);\r\n\t\t\t\t\tthis.success = true;\r\n\t\t\t\t\tdataLayer.push({\r\n\t\t\t\t\t\t'event': 'formSubmission',\r\n\t\t\t\t\t\t'form type': 'Registrazione Tiemme Club'\r\n\t\t\t\t\t});\r\n\t\t\t\t\tthis.form.reset();\r\n\t\t\t\t\t// this.pushChanges();\r\n\t\t\t\t\tthis.signUp.next(response);\r\n\t\t\t\t}, error => {\r\n\t\t\t\t\tconsole.log('NaturalFormSignupComponent.error', error);\r\n\t\t\t\t\tthis.error = error;\r\n\t\t\t\t\tthis.pushChanges();\r\n\t\t\t\t});\r\n\t\t} else {\r\n\t\t\tthis.form.touched = true;\r\n\t\t}\r\n\t}\r\n\r\n\tonBack() {\r\n\t\tthis.back.next();\r\n\t}\r\n\r\n}\r\n\r\nNaturalFormSignupComponent.meta = {\r\n\tselector: '[natural-form-signup]',\r\n\toutputs: ['signUp', 'back'],\r\n};\r\n","import { Component } from 'rxcomp';\r\nimport { takeUntil } from 'rxjs/operators';\r\nimport { STATIC } from '../environment/environment';\r\nimport ModalService, { ModalResolveEvent } from '../modal/modal.service';\r\nimport UserService from '../user/user.service';\r\nimport NaturalFormService from './natural-form.service';\r\n\r\nexport default class NaturalFormComponent extends Component {\r\n\r\n\tonInit() {\r\n\t\tthis.views = {\r\n\t\t\tNATURAL: 0,\r\n\t\t\tTECHNICAL: 1,\r\n\t\t\tCOMMERCIAL: 2,\r\n\t\t\tNEWSLETTER: 3,\r\n\t\t\tCLUB: 4,\r\n\t\t};\r\n\t\tthis.view = this.views.NATURAL;\r\n\t\tUserService.user$.pipe(\r\n\t\t\ttakeUntil(this.unsubscribe$)\r\n\t\t).subscribe(user => {\r\n\t\t\tthis.user = user;\r\n\t\t\tthis.pushChanges();\r\n\t\t});\r\n\t\tNaturalFormService.form$.pipe(\r\n\t\t\ttakeUntil(this.unsubscribe$)\r\n\t\t).subscribe(form => {\r\n\t\t\t// console.log(NaturalFormService.values);\r\n\t\t\tthis.values = NaturalFormService.values;\r\n\t\t\tthis.pushChanges();\r\n\t\t});\r\n\t\t// console.log('NaturalFormComponent.onInit', this.naturalForm);\r\n\t}\r\n\r\n\tonClub(event) {\r\n\t\tif (this.user) {\r\n\t\t\twindow.location.href = NaturalFormService.clubProfileUrl;\r\n\t\t} else {\r\n\t\t\tevent.preventDefault();\r\n\t\t\tconst src = STATIC ? '/tiemme-com/club-modal.html' : NaturalFormService.clubModalUrl;\r\n\t\t\tModalService.open$({ src: src, data: { view: 1 } }).pipe(\r\n\t\t\t\ttakeUntil(this.unsubscribe$)\r\n\t\t\t).subscribe(event => {\r\n\t\t\t\t// console.log('RegisterOrLoginComponent.onRegister', event);\r\n\t\t\t\tif (event instanceof ModalResolveEvent) {\r\n\t\t\t\t\tUserService.setUser(event.data);\r\n\t\t\t\t\tthis.user = event.data;\r\n\t\t\t\t\tthis.pushChanges();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tonNext(event) {\r\n\t\tthis.view = NaturalFormService.values.action;\r\n\t\tthis.pushChanges();\r\n\t}\r\n\r\n\tonBack(event) {\r\n\t\tthis.view = this.views.NATURAL;\r\n\t\tthis.pushChanges();\r\n\t}\r\n\r\n\tget disabled() {\r\n\t\treturn NaturalFormService.disabled;\r\n\t}\r\n\r\n}\r\n\r\nNaturalFormComponent.meta = {\r\n\tselector: '[natural-form]',\r\n\toutputs: ['club']\r\n};\r\n","import { Component } from 'rxcomp';\r\nimport { takeUntil } from 'rxjs/operators';\r\nimport { FilterMode } from '../filter/filter-item';\r\nimport FilterService from '../filter/filter.service';\r\n\r\nexport default class PriceListComponent extends Component {\r\n\r\n\tonInit() {\r\n\t\tconst items = window.pricelists || [];\r\n\t\tconst filters = window.filters || {};\r\n\t\tconst initialParams = window.params || {};\r\n\t\tfilters.departments.mode = FilterMode.OR;\r\n\t\tfilters.categories.mode = FilterMode.OR;\r\n\t\tconst filterService = new FilterService(filters, initialParams, (key, filter) => {\r\n\t\t\tswitch (key) {\r\n\t\t\t\tcase 'categories':\r\n\t\t\t\t\tfilter.filter = (item, value) => {\r\n\t\t\t\t\t\treturn item.category === value;\r\n\t\t\t\t\t};\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tfilter.filter = (item, value) => {\r\n\t\t\t\t\t\treturn item.features.indexOf(value) !== -1;\r\n\t\t\t\t\t};\r\n\t\t\t}\r\n\t\t});\r\n\t\tfilterService.items$(items).pipe(\r\n\t\t\ttakeUntil(this.unsubscribe$),\r\n\t\t).subscribe(items => {\r\n\t\t\tthis.items = items;\r\n\t\t\tthis.pushChanges();\r\n\t\t\t// console.log('PriceListComponent.items', items.length);\r\n\t\t});\r\n\r\n\t\tthis.filterService = filterService;\r\n\t\tthis.filters = filterService.filters;\r\n\t}\r\n\r\n}\r\n\r\nPriceListComponent.meta = {\r\n\tselector: '[price-list]',\r\n};\r\n","import { Component } from 'rxcomp';\r\nimport { takeUntil } from 'rxjs/operators';\r\nimport { STATIC } from '../environment/environment';\r\nimport ModalService, { ModalResolveEvent } from '../modal/modal.service';\r\nimport UserService from '../user/user.service';\r\n\r\nconst src = STATIC ? '/tiemme-com/club-modal.html' : '/Viewdoc.cshtml?co_id=23649';\r\n\r\nexport default class RegisterOrLoginComponent extends Component {\r\n\r\n\tonRegister(event) {\r\n\t\t// console.log('RegisterOrLoginComponent.onRegister');\r\n\t\tevent.preventDefault();\r\n\t\tModalService.open$({ src: src, data: { view: 2 } }).pipe(\r\n\t\t\ttakeUntil(this.unsubscribe$)\r\n\t\t).subscribe(event => {\r\n\t\t\t// console.log('RegisterOrLoginComponent.onRegister', event);\r\n\t\t\tif (event instanceof ModalResolveEvent) {\r\n\t\t\t\tUserService.setUser(event.data);\r\n\t\t\t}\r\n\t\t});\r\n\t\t// this.pushChanges();\r\n\t}\r\n\r\n\tonLogin(event) {\r\n\t\t// console.log('RegisterOrLoginComponent.onLogin');\r\n\t\tevent.preventDefault();\r\n\t\tModalService.open$({ src: src, data: { view: 1 } }).pipe(\r\n\t\t\ttakeUntil(this.unsubscribe$)\r\n\t\t).subscribe(event => {\r\n\t\t\t// console.log('RegisterOrLoginComponent.onLogin', event);\r\n\t\t\tif (event instanceof ModalResolveEvent) {\r\n\t\t\t\tUserService.setUser(event.data);\r\n\t\t\t}\r\n\t\t});\r\n\t\t// this.pushChanges();\r\n\t}\r\n\r\n}\r\n\r\nRegisterOrLoginComponent.meta = {\r\n\tselector: '[register-or-login]',\r\n};\r\n","import { Component } from 'rxcomp';\r\nimport { FormControl, FormGroup, Validators } from 'rxcomp-form';\r\nimport { takeUntil } from 'rxjs/operators';\r\nimport HttpService from '../http/http.service';\r\n\r\n/*\r\nMail\r\nLa mail di recap presenter i dati inseriti dallutente e come oggetto Richiesta Informazioni commerciali\r\n\r\nGenerazione Mail\r\n\tRomania > tiemmesystems@tiemme.com\r\n\tSpagna > tiemmesistemas@tiemme.com\r\n\tGrecia > customerservice.gr@tiemme.com\r\n\tAlbania, Kosovo, Serbia, Montenegro, Bulgaria > infobalkans@tiemme.com\r\n\tTutti gli altri > info@tiemme.com\r\n*/\r\n\r\nexport default class RequestInfoCommercialComponent extends Component {\r\n\r\n\tonInit() {\r\n\t\tconst data = window.data || {\r\n\t\t\troles: [],\r\n\t\t\tinterests: [],\r\n\t\t\tcountries: [],\r\n\t\t\tprovinces: []\r\n\t\t};\r\n\r\n\t\tconst form = new FormGroup({\r\n\t\t\tfirstName: new FormControl(null, Validators.RequiredValidator()),\r\n\t\t\tlastName: new FormControl(null, Validators.RequiredValidator()),\r\n\t\t\temail: new FormControl(null, [Validators.RequiredValidator(), Validators.EmailValidator()]),\r\n\t\t\tcompany: new FormControl(null, Validators.RequiredValidator()),\r\n\t\t\trole: new FormControl(null, Validators.RequiredValidator()),\r\n\t\t\tinterests: new FormControl(null, Validators.RequiredValidator()),\r\n\t\t\tcountry: new FormControl(null, Validators.RequiredValidator()),\r\n\t\t\tprovince: new FormControl(null, Validators.RequiredValidator()),\r\n\t\t\tmessage: null,\r\n\t\t\tprivacy: new FormControl(null, Validators.RequiredTrueValidator()),\r\n\t\t\tnewsletter: null,\r\n\t\t\tscope: window.location.hostname,\r\n\t\t\tcheckRequest: window.antiforgery,\r\n\t\t\tcheckField: '',\r\n\t\t});\r\n\r\n\t\tconst controls = form.controls;\r\n\t\tcontrols.role.options = data.roles;\r\n\t\tcontrols.interests.options = data.interests;\r\n\t\tcontrols.country.options = data.countries;\r\n\t\tcontrols.province.options = [];\r\n\t\tthis.controls = controls;\r\n\r\n\t\tform.changes$.pipe(\r\n\t\t\ttakeUntil(this.unsubscribe$)\r\n\t\t).subscribe((changes) => {\r\n\t\t\t// console.log('RequestInfoCommercialComponent.form.changes$', changes, form.valid);\r\n\t\t\tthis.countryId = changes.country;\r\n\t\t\tthis.pushChanges();\r\n\t\t});\r\n\r\n\t\tthis.data = data;\r\n\t\tthis.form = form;\r\n\t\tthis.error = null;\r\n\t\tthis.success = false;\r\n\t}\r\n\r\n\tset countryId(countryId) {\r\n\t\tif (this.countryId_ !== countryId) {\r\n\t\t\t// console.log('RequestInfoCommercialComponent.set countryId', countryId);\r\n\t\t\tthis.countryId_ = countryId;\r\n\t\t\tconst provinces = this.data.provinces.filter(province => {\r\n\t\t\t\treturn String(province.idstato) === String(countryId);\r\n\t\t\t});\r\n\t\t\tthis.controls.province.options = provinces;\r\n\t\t\tthis.controls.province.hidden = provinces.length === 0;\r\n\t\t\tif (!provinces.find(x => x.id === this.controls.province.value)) {\r\n\t\t\t\tthis.controls.province.value = null;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\ttest() {\r\n\t\tthis.form.patch({\r\n\t\t\tfirstName: 'Jhon',\r\n\t\t\tlastName: 'Appleseed',\r\n\t\t\temail: 'jhonappleseed@gmail.com',\r\n\t\t\tcompany: 'Websolute',\r\n\t\t\trole: this.controls.role.options[0].id,\r\n\t\t\tinterests: this.controls.interests.options[0].id,\r\n\t\t\tcountry: this.controls.country.options[0].id,\r\n\t\t\tprivacy: true,\r\n\t\t\tcheckRequest: window.antiforgery,\r\n\t\t\tcheckField: ''\r\n\t\t});\r\n\t}\r\n\r\n\treset() {\r\n\t\tthis.form.reset();\r\n\t}\r\n\r\n\tonSubmit(from) {\r\n\t\t// console.log('RequestInfoCommercialComponent.onSubmit', 'form.valid', valid);\r\n\t\tif (this.form.valid) {\r\n\t\t\t// console.log('RequestInfoCommercialComponent.onSubmit', this.form.value);\r\n\t\t\tthis.form.submitted = true;\r\n\t\t\t// HttpService.post$('/WS/wsUsers.asmx/Contact', { data: this.form.value })\r\n\t\t\tHttpService.post$('/api/users/Contact', this.form.value)\r\n\t\t\t\t.subscribe(response => {\r\n\t\t\t\t\tconsole.log('RequestInfoCommercialComponent.onSubmit', response);\r\n\t\t\t\t\tthis.success = true;\r\n\t\t\t\t\tthis.form.reset();\r\n\t\t\t\t\t// this.pushChanges();\r\n\t\t\t\t\tdataLayer.push({\r\n\t\t\t\t\t\t'event': 'formSubmission',\r\n\t\t\t\t\t\t'form type': (null == from ? 'Contatti Tiemme' : from)\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t}, error => {\r\n\t\t\t\t\tconsole.log('RequestInfoCommercialComponent.error', error);\r\n\t\t\t\t\tthis.error = error;\r\n\t\t\t\t\tthis.pushChanges();\r\n\t\t\t\t});\r\n\t\t} else {\r\n\t\t\tthis.form.touched = true;\r\n\t\t}\r\n\t}\r\n\r\n}\r\n\r\nRequestInfoCommercialComponent.meta = {\r\n\tselector: '[request-info-commercial]',\r\n};\r\n","import { Component } from 'rxcomp';\r\nimport { of } from 'rxjs';\r\nimport { catchError, takeUntil } from 'rxjs/operators';\r\nimport UserService from '../user/user.service';\r\n\r\nexport default class ReservedAreaComponent extends Component {\r\n\r\n\tonInit() {\r\n\t\tUserService.me$().pipe(\r\n\t\t\tcatchError(() => of (null)),\r\n\t\t\ttakeUntil(this.unsubscribe$)\r\n\t\t).subscribe(user => {\r\n\t\t\tthis.user = user;\r\n\t\t});\r\n\t}\r\n\r\n\tdoLogout(event) {\r\n\t\tUserService.logout$().subscribe(() => {\r\n\t\t\tthis.user = null;\r\n\t\t\twindow.location.href = '/';\r\n\t\t});\r\n\t}\r\n\r\n\tonProfileUpdate(event) {\r\n\r\n\t}\r\n\r\n\tonPasswordUpdate(event) {\r\n\r\n\t}\r\n\r\n}\r\n\r\nReservedAreaComponent.meta = {\r\n\tselector: '[reserved-area]',\r\n};\r\n","import { Directive, getContext } from 'rxcomp';\r\nimport { fromEvent } from 'rxjs';\r\nimport { shareReplay, takeUntil, tap } from 'rxjs/operators';\r\n\r\nexport default class ScrollToDirective extends Directive {\r\n\r\n\tonInit() {\r\n\t\tthis.initialFocus = false;\r\n\t\tconst { module, node } = getContext(this);\r\n\t\tconst expression = this.expression = node.getAttribute(`(scrollTo)`);\r\n\t\tthis.outputFunction = module.makeFunction(expression, ['$event']);\r\n\t\tthis.scrollTo$().pipe(\r\n\t\t\ttakeUntil(this.unsubscribe$)\r\n\t\t).subscribe(() => {});\r\n\t}\r\n\r\n\tscrollTo$() {\r\n\t\tconst { module, node, parentInstance } = getContext(this);\r\n\t\treturn fromEvent(node, 'click').pipe(\r\n\t\t\ttap(event => {\r\n\t\t\t\tconst result = module.resolve(this.outputFunction, parentInstance, event);\r\n\t\t\t\tif (typeof result === 'string') {\r\n\t\t\t\t\tconst target = document.querySelector(result);\r\n\t\t\t\t\tif (target) {\r\n\t\t\t\t\t\tconst from = this.currentTop();\r\n\t\t\t\t\t\tconst to = from + target.getBoundingClientRect().top - 50;\r\n\t\t\t\t\t\tconst o = { pow: 0 };\r\n\t\t\t\t\t\tconst html = document.querySelector('html');\r\n\t\t\t\t\t\tgsap.set(html, {\r\n\t\t\t\t\t\t\t'scroll-behavior': 'auto'\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tgsap.to(o, Math.abs((to - from)) / 2000, {\r\n\t\t\t\t\t\t\tpow: 1,\r\n\t\t\t\t\t\t\tease: Quad.easeOut,\r\n\t\t\t\t\t\t\toverwrite: 'all',\r\n\t\t\t\t\t\t\tonUpdate: () => {\r\n\t\t\t\t\t\t\t\twindow.scrollTo(0, from + (to - from) * o.pow);\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tonComplete: () => {\r\n\t\t\t\t\t\t\t\tgsap.set(html, {\r\n\t\t\t\t\t\t\t\t\t'scroll-behavior': 'smooth'\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}),\r\n\t\t\tshareReplay(1)\r\n\t\t);\r\n\t}\r\n\r\n\tcurrentTop() {\r\n\t\t// Firefox, Chrome, Opera, Safari\r\n\t\tif (self.pageYOffset) return self.pageYOffset;\r\n\t\t// Internet Explorer 6 - standards mode\r\n\t\tif (document.documentElement && document.documentElement.scrollTop)\r\n\t\t\treturn document.documentElement.scrollTop;\r\n\t\t// Internet Explorer 6, 7 and 8\r\n\t\tif (document.body.scrollTop) return document.body.scrollTop;\r\n\t\treturn 0;\r\n\t}\r\n\r\n}\r\n\r\nScrollToDirective.meta = {\r\n\tselector: `[(scrollTo)]`\r\n};\r\n","export default class DownloadService {\r\n\r\n\tstatic get a() {\r\n\t\tlet a = this.a_;\r\n\t\tif (!a) {\r\n\t\t\ta = document.createElement(\"a\");\r\n\t\t\ta.style = \"display: none\";\r\n\t\t\tdocument.body.appendChild(a);\r\n\t\t\tthis.a_ = a;\r\n\t\t}\r\n\t\treturn a;\r\n\t}\r\n\r\n\tstatic download(blob, fileName = 'download.txt') {\r\n\t\t// var json = JSON.stringify(data),\r\n\t\t// blob = new Blob([json], {type: \"octet/stream\"}),\r\n\t\tconst url = window.URL.createObjectURL(blob);\r\n\t\tconst a = this.a;\r\n\t\ta.href = url;\r\n\t\ta.download = fileName;\r\n\t\ta.click();\r\n\t\twindow.URL.revokeObjectURL(url);\r\n\t}\r\n\r\n}\r\n","import { Directive, getContext } from 'rxcomp';\r\nimport { fromEvent } from 'rxjs';\r\nimport { first, takeUntil } from 'rxjs/operators';\r\nimport DownloadService from '../download/download.service';\r\nimport { STATIC } from '../environment/environment';\r\nimport HttpService from '../http/http.service';\r\nimport ModalService, { ModalResolveEvent } from '../modal/modal.service';\r\nimport UserService from '../user/user.service';\r\n\r\nconst src = STATIC ? '/tiemme-com/club-modal.html' : '/Viewdoc.cshtml?co_id=23649';\r\n\r\nexport default class SecureDirective extends Directive {\r\n\r\n\tonInit() {\r\n\t\tconst { node } = getContext(this);\r\n\t\tthis.href = node.getAttribute('href');\r\n\t\tfromEvent(node, 'click').pipe(\r\n\t\t\ttakeUntil(this.unsubscribe$)\r\n\t\t).subscribe(event => {\r\n\t\t\tevent.preventDefault();\r\n\t\t\tthis.tryDownloadHref();\r\n\t\t});\r\n\t}\r\n\r\n\tonChanges() {\r\n\t\tconst { node } = getContext(this);\r\n\t\tthis.href = node.getAttribute('href');\r\n\t}\r\n\r\n\ttryDownloadHref() {\r\n\t\tHttpService.get$(this.href, undefined, 'blob').pipe(\r\n\t\t\tfirst(),\r\n\t\t).subscribe(blob => {\r\n\t\t\tDownloadService.download(blob, this.href.split('/').pop());\r\n\t\t}, error => {\r\n\t\t\tconsole.log(error);\r\n\t\t\tthis.onLogin(event);\r\n\t\t});\r\n\t}\r\n\r\n\tonLogin(event) {\r\n\t\t// console.log('SecureDirective.onLogin');\r\n\t\t// event.preventDefault();\r\n\t\tModalService.open$({ src: src, data: { view: 1 } }).pipe(\r\n\t\t\ttakeUntil(this.unsubscribe$)\r\n\t\t).subscribe(event => {\r\n\t\t\t// console.log('SecureDirective.onLogin', event);\r\n\t\t\tif (event instanceof ModalResolveEvent) {\r\n\t\t\t\tUserService.setUser(event.data);\r\n\t\t\t\tthis.tryDownloadHref();\r\n\t\t\t}\r\n\t\t});\r\n\t\t// this.pushChanges();\r\n\t}\r\n\r\n\t/*\r\n\tonRegister(event) {\r\n\t\t// console.log('SecureDirective.onRegister');\r\n\t\t// event.preventDefault();\r\n\t\tModalService.open$({ src: src, data: { view: 2 } }).pipe(\r\n\t\t\ttakeUntil(this.unsubscribe$)\r\n\t\t).subscribe(event => {\r\n\t\t\t// console.log('SecureDirective.onRegister', event);\r\n\t\t\tif (event instanceof ModalResolveEvent) {\r\n\t\t\t\tUserService.setUser(event.data);\r\n\t\t\t}\r\n\t\t});\r\n\t\t// this.pushChanges();\r\n\t}\r\n\t*/\r\n\r\n}\r\n\r\nSecureDirective.meta = {\r\n\tselector: '[secure]',\r\n};\r\n","import { Pipe } from \"rxcomp\";\r\n\r\nexport default class FileSizePipe extends Pipe {\r\n\r\n\tstatic transform(value, si = true) {\r\n\t\tvalue = parseInt(value);\r\n\t\tconst unit = si ? 1000 : 1024;\r\n\t\tif (Math.abs(value) < unit) {\r\n\t\t\treturn value + ' B';\r\n\t\t}\r\n\t\tconst units = si ? ['kB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB'] : ['KiB', 'MiB', 'GiB', 'TiB', 'PiB', 'EiB', 'ZiB', 'YiB'];\r\n\t\tlet u = -1;\r\n\t\tdo {\r\n\t\t\tvalue /= unit;\r\n\t\t\t++u;\r\n\t\t} while (Math.abs(value) >= unit && u < units.length - 1);\r\n\t\treturn `${value.toFixed(1)} ${units[u]}`;\r\n\t}\r\n\r\n}\r\n\r\nFileSizePipe.meta = {\r\n\tname: 'fileSize',\r\n};\r\n","import { Component, getContext } from 'rxcomp';\r\nimport { Subject } from 'rxjs';\r\n\r\nexport default class SwiperDirective extends Component {\r\n\r\n\tonInit() {\r\n\t\tthis.options = {\r\n\t\t\tslidesPerView: 'auto',\r\n\t\t\tspaceBetween: 0,\r\n\t\t\tcenteredSlides: true,\r\n\t\t\tspeed: 600,\r\n\t\t\tautoplay: {\r\n\t\t\t\tdelay: 5000,\r\n\t\t\t},\r\n\t\t\tkeyboardControl: true,\r\n\t\t\tmousewheelControl: false,\r\n\t\t\tpagination: {\r\n\t\t\t\tel: '.swiper-pagination',\r\n\t\t\t\tclickable: true,\r\n\t\t\t},\r\n\t\t\tkeyboard: {\r\n\t\t\t\tenabled: true,\r\n\t\t\t\tonlyInViewport: true,\r\n\t\t\t},\r\n\t\t};\r\n\t\tthis.init_();\r\n\t}\r\n\r\n\tget enabled() {\r\n\t\treturn !window.matchMedia('print').matches;\r\n\t}\r\n\r\n\tonChanges() {\r\n\t\tthis.swiperInitOrUpdate_();\r\n\t}\r\n\r\n\tonDestroy() {\r\n\t\tthis.removeListeners_();\r\n\t\tthis.swiperDestroy_();\r\n\t}\r\n\r\n\tonBeforePrint() {\r\n\t\tthis.swiperDestroy_();\r\n\t}\r\n\r\n\tslideToIndex(index) {\r\n\t\t// console.log('SwiperDirective.slideToIndex', index);\r\n\t\tif (this.swiper) {\r\n\t\t\tthis.swiper.slideTo(index);\r\n\t\t}\r\n\t}\r\n\r\n\tinit_() {\r\n\t\tthis.events$ = new Subject();\r\n\t\tif (this.enabled) {\r\n\t\t\tconst { node } = getContext(this);\r\n\t\t\tgsap.set(node, { opacity: 0 });\r\n\t\t\tthis.index = 0;\r\n\t\t\tconst on = this.options.on || {};\r\n\t\t\ton.slideChange = () => {\r\n\t\t\t\tconst swiper = this.swiper;\r\n\t\t\t\tthis.index = swiper.activeIndex;\r\n\t\t\t\tthis.events$.next(this.index);\r\n\t\t\t\tthis.pushChanges();\r\n\t\t\t}\r\n\t\t\tthis.options.on = on;\r\n\t\t\tthis.addListeners_();\r\n\t\t}\r\n\t}\r\n\r\n\taddListeners_() {\r\n\t\tthis.onBeforePrint = this.onBeforePrint.bind(this);\r\n\t\twindow.addEventListener('beforeprint', this.onBeforePrint);\r\n\t\t/*\r\n\t\tscope.$on('onResize', ($scope) => {\r\n\t\t\tthis.onResize(scope, element, attributes);\r\n\t\t});\r\n\t\t*/\r\n\t}\r\n\r\n\tremoveListeners_() {\r\n\t\twindow.removeEventListener('beforeprint', this.onBeforePrint);\r\n\t}\r\n\r\n\tswiperInitOrUpdate_() {\r\n\t\tif (this.enabled) {\r\n\t\t\tconst { node } = getContext(this);\r\n\t\t\tif (this.swiper) {\r\n\t\t\t\tthis.swiper.update();\r\n\t\t\t} else {\r\n\t\t\t\tlet swiper;\r\n\t\t\t\tconst on = this.options.on || (this.options.on = {});\r\n\t\t\t\tconst callback = on.init;\r\n\t\t\t\tif (!on.init || !on.init.swiperDirectiveInit) {\r\n\t\t\t\t\ton.init = function() {\r\n\t\t\t\t\t\tgsap.to(node, 0.4, {\r\n\t\t\t\t\t\t\topacity: 1,\r\n\t\t\t\t\t\t\tease: Power2.easeOut,\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\tif (typeof callback === 'function') {\r\n\t\t\t\t\t\t\t\tcallback.apply(this, [swiper, element, scope]);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}, 1);\r\n\t\t\t\t\t};\r\n\t\t\t\t\ton.init.swiperDirectiveInit = true;\r\n\t\t\t\t}\r\n\t\t\t\tgsap.set(node, { opacity: 1 });\r\n\t\t\t\tswiper = new Swiper(node, this.options);\r\n\t\t\t\tthis.swiper = swiper;\r\n\t\t\t\tthis.swiper._opening = true;\r\n\t\t\t\tnode.classList.add('swiper-init');\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tswiperDestroy_() {\r\n\t\tif (this.swiper) {\r\n\t\t\tthis.swiper.destroy();\r\n\t\t}\r\n\t}\r\n\r\n}\r\n\r\nSwiperDirective.meta = {\r\n\tselector: '[swiper]',\r\n\tinputs: ['consumer']\r\n};\r\n","import SwiperDirective from './swiper.directive';\r\n\r\nexport default class SwiperListingDirective extends SwiperDirective {\r\n\r\n\tonInit() {\r\n\t\tthis.options = {\r\n\t\t\tslidesPerView: 'auto',\r\n\t\t\tspaceBetween: 30,\r\n\t\t\tspeed: 600,\r\n\t\t\tkeyboardControl: true,\r\n\t\t\tmousewheelControl: false,\r\n\t\t\tpagination: {\r\n\t\t\t\tel: '.swiper-pagination',\r\n\t\t\t\tclickable: true,\r\n\t\t\t},\r\n\t\t\tkeyboard: {\r\n\t\t\t\tenabled: true,\r\n\t\t\t\tonlyInViewport: true,\r\n\t\t\t},\r\n\t\t};\r\n\t\tthis.init_();\r\n\t\t// console.log('SwiperListingDirective.onInit');\r\n\t}\r\n\r\n}\r\n\r\nSwiperListingDirective.meta = {\r\n\tselector: '[swiper-listing]'\r\n};\r\n","import SwiperDirective from './swiper.directive';\r\n\r\nexport default class SwiperSlidesDirective extends SwiperDirective {\r\n\r\n\tonInit() {\r\n\t\tthis.options = {\r\n\t\t\tslidesPerView: 3,\r\n\t\t\tspaceBetween: 0,\r\n\t\t\tcenteredSlides: true,\r\n\t\t\tloop: false,\r\n\t\t\tloopAdditionalSlides: 100,\r\n\t\t\tspeed: 600,\r\n\t\t\t/*\r\n\t\t\tautoplay: {\r\n\t\t\t    delay: 5000,\r\n\t\t\t},\r\n\t\t\t*/\r\n\t\t\tkeyboardControl: true,\r\n\t\t\tmousewheelControl: false,\r\n\t\t\tonSlideClick: function(swiper) {\r\n\t\t\t\t// angular.element(swiper.clickedSlide).scope().clicked(angular.element(swiper.clickedSlide).scope().$index);\r\n\t\t\t},\r\n\t\t\tpagination: {\r\n\t\t\t\tel: '.swiper-pagination',\r\n\t\t\t\tclickable: true,\r\n\t\t\t},\r\n\t\t\tnavigation: {\r\n\t\t\t\tnextEl: '.swiper-button-next',\r\n\t\t\t\tprevEl: '.swiper-button-prev',\r\n\t\t\t},\r\n\t\t\tkeyboard: {\r\n\t\t\t\tenabled: true,\r\n\t\t\t\tonlyInViewport: true,\r\n\t\t\t},\r\n\t\t};\r\n\t\tthis.init_();\r\n\t}\r\n\r\n}\r\n\r\nSwiperSlidesDirective.meta = {\r\n\tselector: '[swiper-slides]'\r\n};\r\n","function push_(event) {\r\n\tconst dataLayer = window.dataLayer || [];\r\n\tdataLayer.push(event);\r\n\tconsole.log('GtmService.dataLayer', event);\r\n}\r\n\r\nexport default class GtmService {\r\n\r\n\tstatic push(event) {\r\n\t\treturn push_(event);\r\n\t}\r\n\r\n}\r\n","import { Component, getContext } from 'rxcomp';\r\nimport { takeUntil } from 'rxjs/operators';\r\nimport GtmService from '../gtm/gtm.service';\r\nimport SwiperDirective from '../swiper/swiper.directive';\r\n\r\nexport default class VideoComponent extends Component {\r\n\r\n\tget playing() {\r\n\t\treturn this.playing_;\r\n\t}\r\n\r\n\tset playing(playing) {\r\n\t\tif (this.playing_ !== playing) {\r\n\t\t\tthis.playing_ = playing;\r\n\t\t\tthis.pushChanges();\r\n\t\t}\r\n\t}\r\n\r\n\tonInit() {\r\n\t\tthis.item = {};\r\n\t\tconst { node, parentInstance } = getContext(this);\r\n\t\tnode.classList.add('video');\r\n\t\tthis.video = node.querySelector('video');\r\n\t\tthis.progress = node.querySelector('.icon--play-progress path');\r\n\t\tif (parentInstance instanceof SwiperDirective) {\r\n\t\t\tparentInstance.events$.pipe(\r\n\t\t\t\ttakeUntil(this.unsubscribe$)\r\n\t\t\t).subscribe(event => this.pause());\r\n\t\t}\r\n\t\tthis.addListeners();\r\n\t}\r\n\r\n\tonDestroy() {\r\n\t\tthis.removeListeners();\r\n\t}\r\n\r\n\taddListeners() {\r\n\t\tconst video = this.video;\r\n\t\tif (video) {\r\n\t\t\tthis.onPlay = this.onPlay.bind(this);\r\n\t\t\tthis.onPause = this.onPause.bind(this);\r\n\t\t\tthis.onEnded = this.onEnded.bind(this);\r\n\t\t\tthis.onTimeUpdate = this.onTimeUpdate.bind(this);\r\n\t\t\tvideo.addEventListener('play', this.onPlay);\r\n\t\t\tvideo.addEventListener('pause', this.onPause);\r\n\t\t\tvideo.addEventListener('ended', this.onEnded);\r\n\t\t\tvideo.addEventListener('timeupdate', this.onTimeUpdate);\r\n\t\t}\r\n\t}\r\n\r\n\tremoveListeners() {\r\n\t\tconst video = this.video;\r\n\t\tif (video) {\r\n\t\t\tvideo.removeEventListener('play', this.onPlay);\r\n\t\t\tvideo.removeEventListener('pause', this.onPause);\r\n\t\t\tvideo.removeEventListener('ended', this.onEnded);\r\n\t\t\tvideo.removeEventListener('timeupdate', this.onTimeUpdate);\r\n\t\t}\r\n\t}\r\n\r\n\ttogglePlay() {\r\n\t\t// console.log('VideoComponent.togglePlay')\r\n\t\tconst video = this.video;\r\n\t\tif (video) {\r\n\t\t\tif (video.paused) {\r\n\t\t\t\tthis.play();\r\n\t\t\t} else {\r\n\t\t\t\tthis.pause();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tplay() {\r\n\t\tconst video = this.video;\r\n\t\tvideo.muted = false;\r\n\t\tvideo.play();\r\n\t}\r\n\r\n\tpause() {\r\n\t\tconst video = this.video;\r\n\t\tvideo.muted = true;\r\n\t\tvideo.pause();\r\n\t}\r\n\r\n\tonPlay() {\r\n\t\tthis.playing = true;\r\n\t\tGtmService.push({\r\n\t\t\tevent: 'video play',\r\n\t\t\tvideo_name: this.video.src\r\n\t\t});\r\n\t}\r\n\r\n\tonPause() {\r\n\t\tthis.playing = false;\r\n\t}\r\n\r\n\tonEnded() {\r\n\t\tthis.playing = false;\r\n\t}\r\n\r\n\tonTimeUpdate() {\r\n\t\tthis.progress.style.strokeDashoffset = this.video.currentTime / this.video.duration;\r\n\t}\r\n\r\n}\r\n\r\nVideoComponent.meta = {\r\n\tselector: '[video]',\r\n\tinputs: ['item'],\r\n};\r\n","import { Component } from 'rxcomp';\r\nimport { FormControl, FormGroup, Validators } from 'rxcomp-form';\r\nimport { takeUntil } from 'rxjs/operators';\r\nimport HttpService from '../http/http.service';\r\n\r\nexport default class WorkWithUsComponent extends Component {\r\n\r\n\tonInit() {\r\n\t\tconst data = window.data || {\r\n\t\t\tdepartments: []\r\n\t\t};\r\n\r\n\t\tconst form = new FormGroup({\r\n\t\t\tfirstName: new FormControl(null, Validators.RequiredValidator()),\r\n\t\t\tlastName: new FormControl(null, Validators.RequiredValidator()),\r\n\t\t\temail: new FormControl(null, [Validators.RequiredValidator(), Validators.EmailValidator()]),\r\n\t\t\ttelephone: new FormControl(null, Validators.RequiredValidator()),\r\n\t\t\texperience: null,\r\n\t\t\tcompany: new FormControl(null),\r\n\t\t\tdepartment: new FormControl(null, Validators.RequiredValidator()),\r\n\t\t\tintroduction: new FormControl(null),\r\n\t\t\tprivacy: new FormControl(null, Validators.RequiredTrueValidator()),\r\n\t\t\tcurricula: new FormControl(null, Validators.RequiredValidator()),\r\n\t\t\tcheckRequest: window.antiforgery,\r\n\t\t\tcheckField: ''\r\n\t\t});\r\n\r\n\t\tconst controls = form.controls;\r\n\t\tcontrols.department.options = data.departments;\r\n\t\tthis.controls = controls;\r\n\r\n\t\tform.changes$.pipe(\r\n\t\t\ttakeUntil(this.unsubscribe$)\r\n\t\t).subscribe((changes) => {\r\n\t\t\t// console.log('WorkWithUsComponent.form.changes$', changes, form.valid);\r\n\t\t\tthis.pushChanges();\r\n\t\t});\r\n\r\n\t\tthis.data = data;\r\n\t\tthis.form = form;\r\n\t\tthis.error = null;\r\n\t\tthis.success = false;\r\n\t}\r\n\r\n\ttest() {\r\n\t\tthis.form.patch({\r\n\t\t\tfirstName: 'Jhon',\r\n\t\t\tlastName: 'Appleseed',\r\n\t\t\temail: 'jhonappleseed@gmail.com',\r\n\t\t\ttelephone: '00390721411112',\r\n\t\t\texperience: false,\r\n\t\t\tcompany: 'Websolute',\r\n\t\t\tdepartment: this.controls.department.options[0].id,\r\n\t\t\tintroduction: 'Hi!',\r\n\t\t\tprivacy: true,\r\n\t\t\tcurricula: {},\r\n\t\t\tcheckRequest: window.antiforgery,\r\n\t\t\tcheckField: ''\r\n\t\t});\r\n\t}\r\n\r\n\treset() {\r\n\t\tthis.form.reset();\r\n\t}\r\n\r\n\tonSubmit() {\r\n\t\t// console.log('WorkWithUsComponent.onSubmit', 'form.valid', valid);\r\n\t\tif (this.form.valid) {\r\n\t\t\t// console.log('WorkWithUsComponent.onSubmit', this.form.value);\r\n\t\t\tthis.form.submitted = true;\r\n\t\t\tHttpService.post$('/api/users/WorkWithUs', this.form.value)\r\n\t\t\t\t.subscribe(response => {\r\n\t\t\t\t\tconsole.log('WorkWithUsComponent.onSubmit', response);\r\n\t\t\t\t\tthis.success = true;\r\n\t\t\t\t\tthis.form.reset();\r\n\t\t\t\t\t// this.pushChanges();\r\n\t\t\t\t\tdataLayer.push({\r\n\t\t\t\t\t\t'event': 'formSubmission',\r\n\t\t\t\t\t\t'form type': 'Lavora con Noi'\r\n\t\t\t\t\t});\r\n\t\t\t\t}, error => {\r\n\t\t\t\t\tconsole.log('WorkWithUsComponent.error', error);\r\n\t\t\t\t\tthis.error = error;\r\n\t\t\t\t\tthis.pushChanges();\r\n\t\t\t\t});\r\n\t\t} else {\r\n\t\t\tthis.form.touched = true;\r\n\t\t}\r\n\t}\r\n\r\n}\r\n\r\nWorkWithUsComponent.meta = {\r\n\tselector: '[work-with-us]',\r\n};\r\n","import { Component, getContext } from 'rxcomp';\r\nimport { BehaviorSubject, interval, Subject } from 'rxjs';\r\nimport { distinctUntilChanged, filter, map, switchMap, takeUntil, tap } from 'rxjs/operators';\r\nimport SwiperDirective from '../swiper/swiper.directive';\r\n\r\nexport default class YoutubeComponent extends Component {\r\n\r\n\tget playing() {\r\n\t\treturn this.playing_;\r\n\t}\r\n\r\n\tset playing(playing) {\r\n\t\tif (this.playing_ !== playing) {\r\n\t\t\tthis.playing_ = playing;\r\n\t\t\tthis.pushChanges();\r\n\t\t}\r\n\t}\r\n\r\n\tget cover() {\r\n\t\treturn this.youtubeId ? `//i.ytimg.com/vi/${this.youtubeId}/maxresdefault.jpg` : '';\r\n\t}\r\n\r\n\tonInit() {\r\n\t\tthis.item = {};\r\n\t\tconst { node, parentInstance } = getContext(this);\r\n\t\tnode.classList.add('youtube');\r\n\t\tif (YoutubeComponent.MOBILE) {\r\n\t\t\tnode.classList.add('mobile');\r\n\t\t}\r\n\t\tthis.progress = node.querySelector('.icon--play-progress path');\r\n\t\tthis.onPlayerReady = this.onPlayerReady.bind(this);\r\n\t\tthis.onPlayerStateChange = this.onPlayerStateChange.bind(this);\r\n\t\tthis.onPlayerError = this.onPlayerError.bind(this);\r\n\t\tthis.id$ = new Subject().pipe(distinctUntilChanged());\r\n\t\tif (parentInstance instanceof SwiperDirective) {\r\n\t\t\tparentInstance.events$.pipe(\r\n\t\t\t\ttakeUntil(this.unsubscribe$)\r\n\t\t\t).subscribe(event => this.pause());\r\n\t\t}\r\n\t\t// this.addListeners();\r\n\t}\r\n\r\n\tonChanges(changes) {\r\n\t\tconst id = this.youtubeId;\r\n\t\t// console.log('YoutubeComponent.onChanges', id);\r\n\t\tthis.id$.next(id);\r\n\t}\r\n\r\n\tinitPlayer() {\r\n\t\t// console.log('VideoComponent.initPlayer');\r\n\t\tthis.player$().pipe(\r\n\t\t\ttakeUntil(this.unsubscribe$)\r\n\t\t).subscribe(player => {\r\n\t\t\tconsole.log('YoutubeComponent.player$', player);\r\n\t\t});\r\n\t\tthis.interval$().pipe(\r\n\t\t\ttakeUntil(this.unsubscribe$)\r\n\t\t).subscribe(() => {});\r\n\t\tthis.id$.next(this.youtubeId);\r\n\t}\r\n\r\n\tplayer$() {\r\n\t\tconst { node } = getContext(this);\r\n\t\tconst video = node.querySelector('.video');\r\n\t\treturn this.id$.pipe(\r\n\t\t\tswitchMap(id => {\r\n\t\t\t\t// console.log('YoutubeComponent.videoId', id);\r\n\t\t\t\treturn YoutubeComponent.once$().pipe(\r\n\t\t\t\t\tmap(youtube => {\r\n\t\t\t\t\t\t// console.log('YoutubeComponent.once$', youtube);\r\n\t\t\t\t\t\tthis.destroyPlayer();\r\n\t\t\t\t\t\tthis.player = new youtube.Player(video, {\r\n\t\t\t\t\t\t\twidth: node.offsetWidth,\r\n\t\t\t\t\t\t\theight: node.offsetHeight,\r\n\t\t\t\t\t\t\tvideoId: id,\r\n\t\t\t\t\t\t\tplayerVars: {\r\n\t\t\t\t\t\t\t\tautoplay: 1,\r\n\t\t\t\t\t\t\t\tcontrols: 1, // YoutubeComponent.MOBILE ? 1 : 0,\r\n\t\t\t\t\t\t\t\tdisablekb: 1,\r\n\t\t\t\t\t\t\t\tenablejsapi: 1,\r\n\t\t\t\t\t\t\t\tfs: 0,\r\n\t\t\t\t\t\t\t\tloop: 1,\r\n\t\t\t\t\t\t\t\tmodestbranding: 1,\r\n\t\t\t\t\t\t\t\tplaysinline: 1,\r\n\t\t\t\t\t\t\t\trel: 0,\r\n\t\t\t\t\t\t\t\tshowinfo: 0,\r\n\t\t\t\t\t\t\t\tiv_load_policy: 3,\r\n\t\t\t\t\t\t\t\tlistType: 'user_uploads',\r\n\t\t\t\t\t\t\t\t// origin: 'https://log6i.csb.app/'\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tevents: {\r\n\t\t\t\t\t\t\t\tonReady: this.onPlayerReady,\r\n\t\t\t\t\t\t\t\tonStateChange: this.onPlayerStateChange,\r\n\t\t\t\t\t\t\t\tonPlayerError: this.onPlayerError\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\treturn this.player;\r\n\t\t\t\t\t})\r\n\t\t\t\t);\r\n\t\t\t})\r\n\t\t);\r\n\t}\r\n\r\n\tonPlayerReady(event) {\r\n\t\t// console.log('YoutubeComponent.onPlayerReady', event);\r\n\t\tevent.target.mute();\r\n\t\tevent.target.playVideo();\r\n\t}\r\n\r\n\tonPlayerStateChange(event) {\r\n\t\t// console.log('YoutubeComponent.onPlayerStateChange', event.data);\r\n\t\tif (event.data === 1) {\r\n\t\t\tthis.playing = true;\r\n\t\t} else {\r\n\t\t\tthis.playing = false;\r\n\t\t}\r\n\t}\r\n\r\n\tonPlayerError(event) {\r\n\t\tconsole.log('YoutubeComponent.onPlayerError', event);\r\n\t}\r\n\r\n\tdestroyPlayer() {\r\n\t\tif (this.player) {\r\n\t\t\tthis.player.destroy();\r\n\t\t}\r\n\t}\r\n\r\n\tonDestroy() {\r\n\t\tthis.destroyPlayer();\r\n\t}\r\n\r\n\tinterval$() {\r\n\t\treturn interval(500).pipe(\r\n\t\t\tfilter(() => this.playing && this.player),\r\n\t\t\ttap(() => {\r\n\t\t\t\tthis.progress.style.strokeDashoffset =\r\n\t\t\t\t\tthis.player.getCurrentTime() / this.player.getDuration();\r\n\t\t\t})\r\n\t\t);\r\n\t}\r\n\r\n\ttogglePlay() {\r\n\t\t// console.log('VideoComponent.togglePlay');\r\n\t\tif (this.playing) {\r\n\t\t\tthis.pause();\r\n\t\t} else {\r\n\t\t\tthis.play();\r\n\t\t}\r\n\t}\r\n\r\n\tplay() {\r\n\t\t// console.log('VideoComponent.play');\r\n\t\tif (!this.player) {\r\n\t\t\tthis.initPlayer();\r\n\t\t} else {\r\n\t\t\tthis.player.playVideo();\r\n\t\t}\r\n\t}\r\n\r\n\tpause() {\r\n\t\tif (!this.player) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tthis.player.stopVideo();\r\n\t}\r\n\r\n\tstatic once$() {\r\n\t\tif (this.youtube$) {\r\n\t\t\treturn this.youtube$;\r\n\t\t} else {\r\n\t\t\tthis.youtube$ = new BehaviorSubject(null).pipe(\r\n\t\t\t\tfilter(youtube => youtube !== null)\r\n\t\t\t);\r\n\t\t\twindow.onYouTubeIframeAPIReady = this.onYouTubeIframeAPIReady_.bind(this);\r\n\t\t\tconst script = document.createElement('script');\r\n\t\t\tconst scripts = document.querySelectorAll('script');\r\n\t\t\tconst last = scripts[scripts.length - 1];\r\n\t\t\tlast.parentNode.insertBefore(script, last);\r\n\t\t\tscript.src = '//www.youtube.com/iframe_api';\r\n\t\t\treturn this.youtube$;\r\n\t\t}\r\n\t}\r\n\r\n\tstatic onYouTubeIframeAPIReady_() {\r\n\t\t// console.log('onYouTubeIframeAPIReady');\r\n\t\tthis.youtube$.next(window.YT);\r\n\t}\r\n\r\n\tstatic mobilecheck() {\r\n\t\tlet check = false;\r\n\t\t(function(a) { if (/(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(a) || /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i.test(a.substr(0, 4))) check = true; })(navigator.userAgent || navigator.vendor || window.opera);\r\n\t\treturn check;\r\n\t}\r\n\r\n\tstatic mobileAndTabletcheck() {\r\n\t\tlet check = false;\r\n\t\t(function(a) { if (/(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(a) || /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i.test(a.substr(0, 4))) check = true; })(navigator.userAgent || navigator.vendor || window.opera);\r\n\t\treturn check;\r\n\t}\r\n\r\n}\r\n\r\nYoutubeComponent.MOBILE = YoutubeComponent.mobileAndTabletcheck();\r\n\r\nYoutubeComponent.meta = {\r\n\tselector: '[youtube]',\r\n\tinputs: ['youtubeId', 'title']\r\n};\r\n","import { Directive, getContext } from 'rxcomp';\r\nimport { fromEvent } from 'rxjs';\r\nimport { map, takeUntil } from 'rxjs/operators';\r\n\r\nexport default class ZoomableDirective extends Directive {\r\n\r\n\tonInit() {\r\n\t\tconst { node } = getContext(this);\r\n\t\tnode.classList.add('zoomable');\r\n\t\tconst target = node.getAttribute('zoomable') !== '' ? node.querySelectorAll(node.getAttribute('zoomable')) : node;\r\n\t\tfromEvent(target, 'click').pipe(\r\n\t\t\tmap($event => this.zoom = !this.zoom),\r\n\t\t\ttakeUntil(this.unsubscribe$)\r\n\t\t).subscribe(zoom => console.log('ZoomableDirective', zoom));\r\n\t}\r\n\r\n\tget zoom() {\r\n\t\treturn this.zoom_;\r\n\t}\r\n\r\n\tset zoom(zoom) {\r\n\t\tif (this.zoom_ !== zoom) {\r\n\t\t\tthis.zoom_ = zoom;\r\n\t\t\tif (zoom) {\r\n\t\t\t\tthis.zoomIn();\r\n\t\t\t} else {\r\n\t\t\t\tthis.zoomOut();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tzoomIn() {\r\n\t\tconst { node } = getContext(this);\r\n\t\tthis.rect = node.getBoundingClientRect();\r\n\t\tthis.parentNode = node.parentNode;\r\n\t\tdocument.querySelector('body').appendChild(node);\r\n\t\tgsap.set(node, {\r\n\t\t\tleft: this.rect.left,\r\n\t\t\ttop: this.rect.top,\r\n\t\t\twidth: this.rect.width,\r\n\t\t\theight: this.rect.height,\r\n\t\t\tposition: 'fixed'\r\n\t\t});\r\n\t\tnode.classList.add('zoom');\r\n\t\tgsap.set(node, { position: 'fixed' });\r\n\t\tconst to = {\r\n\t\t\tleft: 0,\r\n\t\t\ttop: 0,\r\n\t\t\twidth: window.innerWidth,\r\n\t\t\theight: window.innerHeight,\r\n\t\t};\r\n\t\tgsap.to(node, {\r\n\t\t\t...to,\r\n\t\t\tduration: 0.7,\r\n\t\t\tease: Power3.easeInOut,\r\n\t\t\tonComplete: () => {\r\n\t\t\t\tnode.classList.add('zoomed');\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tzoomOut() {\r\n\t\tconst { node } = getContext(this);\r\n\t\tnode.classList.remove('zoomed');\r\n\t\tconst to = {\r\n\t\t\tleft: this.rect.left,\r\n\t\t\ttop: this.rect.top,\r\n\t\t\twidth: this.rect.width,\r\n\t\t\theight: this.rect.height\r\n\t\t};\r\n\t\tgsap.to(node, {\r\n\t\t\t...to,\r\n\t\t\tduration: 0.7,\r\n\t\t\tease: Power3.easeInOut,\r\n\t\t\tonComplete: () => {\r\n\t\t\t\tthis.parentNode.appendChild(node);\r\n\t\t\t\tgsap.set(node, { clearProps: 'all' });\r\n\t\t\t\tnode.classList.remove('zoom');\r\n\t\t\t\tthis.parentNode = null;\r\n\t\t\t\tthis.rect = null;\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n}\r\n\r\nZoomableDirective.meta = {\r\n\tselector: '[zoomable]'\r\n};\r\n","import { CoreModule, Module } from 'rxcomp';\r\nimport { FormModule } from 'rxcomp-form';\r\nimport AgentsComponent from './agents/agents.component';\r\nimport AppComponent from './app.component';\r\nimport AppearDirective from './appear/appear.directive';\r\nimport BimLibraryComponent from './bim-library/bim-library';\r\nimport ClickOutsideDirective from './click-outside/click-outside.directive';\r\nimport ClubForgotComponent from './club/club-forgot.component';\r\nimport ClubModalComponent from './club/club-modal.component';\r\nimport ClubPasswordEditComponent from './club/club-password-edit.component';\r\nimport ClubPasswordRecoveryComponent from './club/club-password-recovery.component';\r\nimport ClubProfileComponent from './club/club-profile.component';\r\nimport ClubSigninComponent from './club/club-signin.component';\r\nimport ClubSignupComponent from './club/club-signup.component';\r\nimport ClubComponent from './club/club.component';\r\nimport DropdownItemDirective from './dropdown/dropdown-item.directive';\r\nimport DropdownDirective from './dropdown/dropdown.directive';\r\nimport ControlCheckboxComponent from './forms/control-checkbox.component';\r\nimport ControlCustomSelectComponent from './forms/control-custom-select.component';\r\nimport ControlEmailComponent from './forms/control-email.component';\r\nimport ControlFileComponent from './forms/control-file.component';\r\nimport ControlPasswordComponent from './forms/control-password.component';\r\nimport ControlSelectComponent from './forms/control-select.component';\r\nimport ControlTextComponent from './forms/control-text.component';\r\nimport ControlTextareaComponent from './forms/control-textarea.component';\r\nimport ErrorsComponent from './forms/errors.component';\r\nimport TestComponent from './forms/test.component';\r\n// import ValueDirective from './forms/value.directive';\r\nimport HeaderComponent from './header/header.component';\r\nimport HtmlPipe from './html/html.pipe';\r\nimport LazyDirective from './lazy/lazy.directive';\r\nimport MainMenuComponent from './main-menu/main-menu.component';\r\nimport MediaLibraryComponent from './media-library/media-library';\r\nimport ModalOutletComponent from './modal/modal-outlet.component';\r\nimport ModalComponent from './modal/modal.component';\r\nimport NaturalFormContactComponent from './natural-form/natural-form-contact.component';\r\nimport NaturalFormControlComponent from './natural-form/natural-form-control.component';\r\nimport NaturalFormNewsletterComponent from './natural-form/natural-form-newsletter.component';\r\nimport NaturalFormRequestInfoComponent from './natural-form/natural-form-request-info.component';\r\nimport NaturalFormSearchComponent from './natural-form/natural-form-search.component';\r\nimport NaturalFormSignupComponent from './natural-form/natural-form-signup.component';\r\nimport NaturalFormComponent from './natural-form/natural-form.component';\r\nimport PriceListComponent from './price-list/price-list';\r\nimport RegisterOrLoginComponent from './register-or-login/register-or-login.component';\r\nimport RequestInfoCommercialComponent from './request-info-commercial/request-info-commercial.component';\r\nimport ReservedAreaComponent from './reserved-area/reserved-area.component';\r\nimport ScrollToDirective from './scroll-to/scroll-to.directive';\r\nimport SecureDirective from './secure/secure.directive';\r\nimport FileSizePipe from './size/size.pipe';\r\nimport SwiperListingDirective from './swiper/swiper-listing.directive';\r\nimport SwiperSlidesDirective from './swiper/swiper-slides.directive';\r\nimport SwiperDirective from './swiper/swiper.directive';\r\nimport VideoComponent from './video/video.component';\r\nimport WorkWithUsComponent from './work-with-us/work-with-us.component';\r\nimport YoutubeComponent from './youtube/youtube.component';\r\nimport ZoomableDirective from './zoomable/zoomable.directive';\r\n\r\nexport default class AppModule extends Module {}\r\n\r\nAppModule.meta = {\r\n\timports: [\r\n\t\tCoreModule,\r\n\t\tFormModule,\r\n\t],\r\n\tdeclarations: [\r\n\t\tAgentsComponent,\r\n\t\tAppearDirective,\r\n\t\tBimLibraryComponent,\r\n\t\tClickOutsideDirective,\r\n\t\tClubComponent,\r\n\t\tClubForgotComponent,\r\n\t\tClubModalComponent,\r\n\t\tClubPasswordRecoveryComponent,\r\n\t\tClubPasswordEditComponent,\r\n\t\tClubProfileComponent,\r\n\t\tClubSigninComponent,\r\n\t\tClubSignupComponent,\r\n\t\tControlCheckboxComponent,\r\n\t\tControlCustomSelectComponent,\r\n\t\tControlEmailComponent,\r\n\t\tControlFileComponent,\r\n\t\tControlPasswordComponent,\r\n\t\tControlSelectComponent,\r\n\t\tControlTextComponent,\r\n\t\tControlTextareaComponent,\r\n\t\tDropdownDirective,\r\n\t\tDropdownItemDirective,\r\n\t\tErrorsComponent,\r\n\t\tFileSizePipe,\r\n\t\tHtmlPipe,\r\n\t\tHeaderComponent,\r\n\t\tLazyDirective,\r\n\t\tMainMenuComponent,\r\n\t\tMediaLibraryComponent,\r\n\t\tModalOutletComponent,\r\n\t\tModalComponent,\r\n\t\tPriceListComponent,\r\n\t\tNaturalFormComponent,\r\n\t\tNaturalFormSearchComponent,\r\n\t\tNaturalFormContactComponent,\r\n\t\tNaturalFormRequestInfoComponent,\r\n\t\tNaturalFormControlComponent,\r\n\t\tNaturalFormNewsletterComponent,\r\n\t\tNaturalFormSignupComponent,\r\n\t\tRequestInfoCommercialComponent,\r\n\t\tRegisterOrLoginComponent,\r\n\t\tReservedAreaComponent,\r\n\t\tSecureDirective,\r\n\t\tScrollToDirective,\r\n\t\tSwiperDirective,\r\n\t\tSwiperListingDirective,\r\n\t\tSwiperSlidesDirective,\r\n\t\tTestComponent,\r\n\t\t// ValueDirective,\r\n\t\tVideoComponent,\r\n\t\tWorkWithUsComponent,\r\n\t\tYoutubeComponent,\r\n\t\tZoomableDirective,\r\n\t],\r\n\tbootstrap: AppComponent,\r\n};\r\n","import { Browser } from 'rxcomp';\r\nimport AppModule from './app.module';\r\n\r\nBrowser.bootstrap(AppModule);\r\n"]}